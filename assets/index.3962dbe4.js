import{d as S,s as $,r as c,a as H,x as j,H as G,c as l,g as O,h as r,w as a,m as q,M as J,e as V,j as s,t as i,k as u,I as Q,_ as C,f as X}from"./index.4a6444ac.js";import{c as Y,a as _,f as B}from"./format.2cb2ce4b.js";import{a as Z}from"./partner.b3536655.js";import{I as N,t as P}from"./ethereum.96675ee5.js";import"./encrypt.ee215348.js";const ee={class:"list-common-table"},te={class:"table-container"},ae="index",oe="top",re=!0,se=S({__name:"CommonTable",setup(K){const h=$();c(""),c(!1);const b=()=>{var e=w.currentRoute.value.params.address;Array.isArray(e)&&(e=e[0]),N(e)&&(d.value.address=e)},A=[{title:"User Address",width:150,colKey:"address"},{title:"Weight",width:100,sorter:!0,colKey:"weight"},{title:"Win Ratio",colKey:"winRatio",sorter:!0,width:100},{title:"Eth Balance",colKey:"ethBalance",sorter:!0,width:100},{title:"Total Trade Num",colKey:"totalTradeCount",sorter:!0,width:120},{title:"Valid Trade Num",colKey:"validTradeCount",sorter:!0,width:120},{title:"Earn Value",colKey:"totalWinValue",sorter:!0,width:100},{title:"MevBuy",colKey:"buyMevRatio",sorter:!0,width:100},{title:"FreshBuy",colKey:"buyFreshRatio",sorter:!0,width:100},{title:"SubNewBuy",colKey:"buySubnewRatio",sorter:!0,width:100},{title:"Type",width:100,colKey:"type"}],w=H(),n=c({current:1,previous:1,pageSize:10,total:100}),p=c({sortBy:"",descending:!0}),m=c([]),f=c(!1),d=c({address:""}),v=async()=>{f.value=!0;var e={};if(d.value.address!="")if(N(d.value.address))e.address=P(d.value.address);else{J.warning("Wrong User Address.");return}try{const o=await Z(n,e,p);m.value=[],o.list!=null&&(m.value=o.list),n.value={...n.value,total:o.count}}catch(o){console.log(o),o.response.status==401&&w.push("/login")}finally{f.value=!1}};j(()=>{b(),v()});const U=e=>{var o="Frontrun";return e==2?o="Rush":e==3&&(o="Trend"),o},y=()=>{n.value.current=1,n.value.previous=n.value.current},R=e=>{y(),v()},W=e=>{R()},E=e=>{R()},M=(e,o)=>{e.sorter?(p.value.sortBy=e.sorter.sortBy,p.value.descending=e.sorter.descending,y()):e.pagination||(p.value.sortBy=void 0,p.value.descending=void 0,y()),e.pagination&&(n.value.current=e.pagination.current,n.value.previous=e.pagination.previous,n.value.pageSize=e.pagination.pageSize),v()},k=G(()=>({offsetTop:h.isUseTabsRouter?48:0,container:`.${Q}-layout`}));return(e,o)=>{const F=l("t-input"),D=l("t-form-item"),g=l("t-col"),x=l("t-row"),T=l("t-button"),I=l("t-form"),L=l("router-link"),z=l("t-table");return V(),O("div",ee,[r(I,{ref:"form",data:d.value,"label-width":80,colon:"",style:{marginBottom:"8px"},onReset:W,onSubmit:E},{default:a(()=>[r(x,null,{default:a(()=>[r(g,{span:10},{default:a(()=>[r(x,{gutter:[16,24]},{default:a(()=>[r(g,{span:12},{default:a(()=>[r(D,{label:"UserAddr",name:"address"},{default:a(()=>[r(F,{modelValue:d.value.address,"onUpdate:modelValue":o[0]||(o[0]=t=>d.value.address=t),class:"form-item-content",type:"search",placeholder:"Please user address",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),r(g,{span:2,class:"operation-container"},{default:a(()=>[r(T,{theme:"primary",type:"submit",style:{marginLeft:"8px"}},{default:a(()=>[s(" Search ")]),_:1}),r(T,{type:"reset",variant:"base",theme:"default"},{default:a(()=>[s(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),q("div",te,[r(z,{data:m.value,columns:A,"row-key":ae,"vertical-align":oe,hover:re,pagination:n.value,loading:f.value,"header-affixed-top":k.value,onChange:M},{address:a(({row:t})=>[r(L,{to:"/partner/deals/"+t.address},{default:a(()=>[s(i(u(Y)(t.address,8,4)),1)]),_:2},1032,["to"])]),winRatio:a(({row:t})=>[s(i(u(_)(Number(t.winRatio)))+"% ",1)]),totalWinValue:a(({row:t})=>[s(" $"+i(u(B)(Number(t.totalWinValue))),1)]),ethBalance:a(({row:t})=>[s(i(u(B)(Number(t.ethBalance))),1)]),averageEarnRatio:a(({row:t})=>[s(i(u(_)(Number(t.averageEarnRatio)))+"% ",1)]),buyMevRatio:a(({row:t})=>[s(i(u(_)(Number(t.buyMevRatio)))+"% ",1)]),buyFreshRatio:a(({row:t})=>[s(i(u(_)(Number(t.buyFreshRatio)))+"% ",1)]),buySubnewRatio:a(({row:t})=>[s(i(u(_)(Number(t.buySubnewRatio)))+"% ",1)]),type:a(({row:t})=>[s(i(U(t.type)),1)]),_:1},8,["data","pagination","loading","header-affixed-top"])])])}}});var ne=C(se,[["__scopeId","data-v-2aded756"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/components/CommonTable.vue"]]);const ie={name:"ListFilter"},le=S({...ie,setup(K){return(h,b)=>(V(),X(ne))}});var me=C(le,[["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/index.vue"]]);export{me as default};
