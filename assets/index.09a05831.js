import{d as I,s as j,r as m,a as G,x as q,H as J,c as d,g as Q,h as a,w as e,m as c,M as X,e as U,k as r,j as l,t as n,I as ee,p as te,l as ae,_ as K,f as ue}from"./index.5f27ed32.js";import{c as oe,a as _,f as x}from"./format.2cb2ce4b.js";import{W as se}from"./index.fb3dd0e2.js";import{a as le}from"./partner.6e0f6cda.js";import{I as N,t as re}from"./ethereum.2fe525e4.js";import"./encrypt.dd67cb0a.js";const y=v=>(te("data-v-2aded756"),v=v(),ae(),v),ne={class:"list-common-table"},ie={class:"table-container"},de=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),ce=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),pe=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),fe=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),me=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),_e=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),ye=y(()=>c("i",{class:"fas fa-info-circle"},"i",-1)),ve="index",he="top",Be=!0,Ee=I({__name:"CommonTable",setup(v){const w=j();m(""),m(!1);const T=()=>{var u=A.currentRoute.value.params.address;Array.isArray(u)&&(u=u[0]),N(u)&&(o.value.address=u)},k=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],W=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],M=[{title:"User Address",width:150,colKey:"address"},{title:"Weight",width:100,sorter:!0,colKey:"weight"},{title:"Win Ratio",colKey:"winRatio",sorter:!0,width:100},{title:"Eth Balance",colKey:"ethBalance",sorter:!0,width:100},{title:"Total Trade Num",colKey:"totalTradeCount",sorter:!0,width:120},{title:"Valid Trade Num",colKey:"validTradeCount",sorter:!0,width:120},{title:"Earn Value",colKey:"totalWinValue",sorter:!0,width:100},{title:"ZeroBuyRatio",colKey:"buyZeroTokenRatio",sorter:!0,width:100},{title:"MevBuy",colKey:"buyMevRatio",sorter:!0,width:100},{title:"FreshBuy",colKey:"buyFreshRatio",sorter:!0,width:100},{title:"SubNewBuy",colKey:"buySubnewRatio",sorter:!0,width:100},{title:"DeflatBuy",colKey:"buyDeflatTokenRatio",sorter:!0,width:100},{title:"Epoch",width:100,colKey:"epoch"},{title:"Type",width:100,colKey:"type"}],A=G(),i=m({current:1,previous:1,pageSize:10,total:100}),h=m({sortBy:"",descending:!0}),E=m([]),b=m(!1),o=m({address:"",epoch:"",mevBuyRatio:0,freshBuyRatio:0,type:0}),R=async()=>{b.value=!0;var u={};if(o.value.address!="")if(N(o.value.address))u.address=re(o.value.address);else{X.warning("Wrong User Address.");return}o.value.mevBuyRatio>0&&(u.mevBuyRatio=o.value.mevBuyRatio),o.value.epoch!=""&&(u.epoch=o.value.epoch),o.value.freshBuyRatio>0&&(u.freshBuyRatio=o.value.freshBuyRatio),o.value.type>0&&(u.type=o.value.type);try{const s=await le(i,u,h);E.value=[],s.list!=null&&(E.value=s.list),i.value={...i.value,total:s.count}}catch(s){console.log(s),s.response.status==401&&A.push("/login")}finally{b.value=!1}};q(()=>{T(),R()});const O=u=>{var s="Frontrun";return u==2?s="Rush":u==3&&(s="Trend"),s},g=()=>{i.value.current=1,i.value.previous=i.value.current},D=u=>{g(),R()},L=u=>{D()},Z=u=>{D()},z=(u,s)=>{u.sorter?(h.value.sortBy=u.sorter.sortBy,h.value.descending=u.sorter.descending,g()):u.pagination||(h.value.sortBy=void 0,h.value.descending=void 0,g()),u.pagination&&(i.value.current=u.pagination.current,i.value.previous=u.pagination.previous,i.value.pageSize=u.pagination.pageSize),R()},H=J(()=>({offsetTop:w.isUseTabsRouter?48:0,container:`.${ee}-layout`}));return(u,s)=>{const V=d("t-input"),B=d("t-form-item"),p=d("t-col"),F=d("t-select"),S=d("t-row"),C=d("t-button"),Y=d("t-form"),$=d("router-link"),f=d("t-tooltip"),P=d("t-table");return U(),Q("div",ne,[a(Y,{ref:"form",data:o.value,"label-width":80,colon:"",style:{marginBottom:"8px"},onReset:L,onSubmit:Z},{default:e(()=>[a(S,null,{default:e(()=>[a(p,{span:10},{default:e(()=>[a(S,{gutter:[16,24]},{default:e(()=>[a(p,{span:8},{default:e(()=>[a(B,{label:"UserAddr",name:"address"},{default:e(()=>[a(V,{modelValue:o.value.address,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.address=t),class:"form-item-content",type:"search",placeholder:"Please user address",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:4},{default:e(()=>[a(B,{label:"Epoch",name:"epoch"},{default:e(()=>[a(V,{modelValue:o.value.epoch,"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.epoch=t),class:"form-item-content",type:"search",placeholder:"Input epoch(or empty)",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:4},{default:e(()=>[a(B,{label:"Mev Ratio",name:"mevBuyRatio"},{default:e(()=>[a(F,{modelValue:o.value.mevBuyRatio,"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.mevBuyRatio=t),class:"form-item-content",options:k,placeholder:"Fresh Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:4},{default:e(()=>[a(B,{label:"Fresh Ratio",name:"freshBuyRatio"},{default:e(()=>[a(F,{modelValue:o.value.freshBuyRatio,"onUpdate:modelValue":s[3]||(s[3]=t=>o.value.freshBuyRatio=t),class:"form-item-content",options:W,placeholder:"Mev Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:4},{default:e(()=>[a(B,{label:"Type",name:"type"},{default:e(()=>[a(F,{modelValue:o.value.type,"onUpdate:modelValue":s[4]||(s[4]=t=>o.value.type=t),class:"form-item-content",options:r(se),placeholder:" Wiser Type"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1}),a(p,{span:2,class:"operation-container"},{default:e(()=>[a(C,{theme:"primary",type:"submit",style:{marginLeft:"8px"}},{default:e(()=>[l(" Search ")]),_:1}),a(C,{type:"reset",variant:"base",theme:"default"},{default:e(()=>[l(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),c("div",ie,[a(P,{data:E.value,columns:M,"row-key":ve,"vertical-align":he,hover:Be,pagination:i.value,loading:b.value,"header-affixed-top":H.value,onChange:z},{address:e(({row:t})=>[a($,{to:"/partner/deals/"+t.address},{default:e(()=>[l(n(r(oe)(t.address,8,4)),1)]),_:2},1032,["to"])]),winRatio:e(({row:t})=>[l(n(r(_)(Number(t.winRatio)))+"% ",1),a(f,{content:"\u7B26\u5408\u6761\u4EF6\u7684\u6709\u6548\u4E70\u5356(\u53BB\u6389mev\u7B49)\u76C8\u5229\u6BD4\u4F8B"},{default:e(()=>[de]),_:1})]),totalWinValue:e(({row:t})=>[l(" $"+n(r(x)(Number(t.totalWinValue))),1)]),ethBalance:e(({row:t})=>[l(n(r(x)(Number(t.ethBalance))),1)]),averageEarnRatio:e(({row:t})=>[l(n(r(_)(Number(t.averageEarnRatio)))+"% ",1)]),buyZeroTokenRatio:e(({row:t})=>[l(n(r(_)(Number(t.buyZeroTokenRatio)))+"% ",1),a(f,{content:"\u8BE5pair\u4E70\u5356\u4E2D\u7684token\u6309\u5F53\u524D\u8BA1\u4EF7\u540E\u5F52\u96F6\u7684\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[ce]),_:1})]),buyMevRatio:e(({row:t})=>[l(n(r(_)(Number(t.buyMevRatio)))+"% ",1),a(f,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA \u540C\u533A\u5757 \u5373\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[pe]),_:1})]),buyFreshRatio:e(({row:t})=>[l(n(r(_)(Number(t.buyFreshRatio)))+"% ",1),a(f,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 5\u5206\u949F \u5185\u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[fe]),_:1})]),buySubnewRatio:e(({row:t})=>[l(n(r(_)(Number(t.buySubnewRatio)))+"% ",1),a(f,{content:"\u6B21\u65B0\u5E01\u6BD4\u4F8B: \u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 7\u5929\u5185 \u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[me]),_:1})]),buyDeflatTokenRatio:e(({row:t})=>[l(n(r(_)(Number(t.buyDeflatTokenRatio)))+"% ",1),a(f,{content:"\u8D2D\u4E70\u901A\u7F29\u5E01/\u5751\u4EBA\u5E01 \u4E0E \u603B\u4EA4\u6613\u6570\u6BD4\u4F8B"},{default:e(()=>[_e]),_:1})]),type:e(({row:t})=>[l(n(O(t.type))+" ",1),a(f,{content:"\u8D26\u53F7\u6301\u6709\u98CE\u683C: \u54EA\u4E00\u9879\u4E70\u5356\u6BD4\u4F8B\u6700\u9AD8, \u5C31\u4E3A\u4F55\u79CD\u7C7B\u578B."},{default:e(()=>[ye]),_:1})]),_:1},8,["data","pagination","loading","header-affixed-top"])])])}}});var be=K(Ee,[["__scopeId","data-v-2aded756"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/components/CommonTable.vue"]]);const Re={name:"ListFilter"},ge=I({...Re,setup(v){return(w,T)=>(U(),ue(be))}});var Se=K(ge,[["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/index.vue"]]);export{Se as default};
