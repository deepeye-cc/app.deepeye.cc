import{q as H,d as O,s as Y,r as _,x as q,H as G,c as d,g as j,h as t,w as a,m as T,M as U,e as g,k as f,j as v,f as x,i as I,t as b,I as J,_ as K}from"./index.5f27ed32.js";import{D as Q,a as X,b as C}from"./index.fb3dd0e2.js";import{b as R,f as Z,g as ee,c as te}from"./format.2cb2ce4b.js";import{I as B,t as D}from"./ethereum.2fe525e4.js";const ae={Url:"/trackswaps"};function oe(n){n==null&&(n=[]);for(var o=0;o<n.length;o++)n[o].amountOfMainToken=`${R(Number(n[o].amountOfMainToken))}`,n[o].price=`${R(Number(n[o].price))}`,n[o].volumeInUsd==""?n[o].volumeInUsd="NA":n[o].volumeInUsd=`$${Z(Number(n[o].volumeInUsd))}`,n[o].swapTime=ee(n[o].swapTime);return n}async function le(n,o,c){return n&&(o.page=n.value.current,o.pageSize=n.value.pageSize),c&&(o.sortBy=c.value.sortBy,o.descending=c.value.descending),H.get({url:ae.Url,params:o})}const ne={class:"list-common-table"},re={class:"table-container"},se=["href"],ie=["href"],de="index",ue="top",ce=!0,pe=O({__name:"CommonTable",setup(n){const o=Y(),c=[{title:"Pair",fixed:"left",width:150,ellipsis:!0,align:"left",colKey:"pairName"},{title:"Direction",colKey:"direction",width:80},{title:"Amount",width:100,ellipsis:!0,sorter:!0,colKey:"amountOfMainToken"},{title:"Memo",align:"left",fixed:"right",width:100,colKey:"memo"},{title:"Priority",sorter:!0,width:100,ellipsis:!0,colKey:"priority"},{title:"USD Value",width:100,ellipsis:!0,sorter:!0,colKey:"volumeInUsd"},{title:"TxHash",width:100,ellipsis:!0,colKey:"txhash"},{title:"Swap Time",width:120,ellipsis:!0,colKey:"swapTime"}],i=_({current:1,previous:1,pageSize:10,total:100}),p=_({sortBy:void 0,descending:void 0}),A=_([]),y=_(!1),e=_({pairAddr:"",token:"",trader:"",direction:0,recentdays:7}),h=async()=>{y.value=!0;var r={direction:e.value.direction,recentdays:e.value.recentdays};if(e.value.pairAddr=e.value.pairAddr.trim(),e.value.trader=e.value.trader.trim(),e.value.token=e.value.token.trim(),e.value.pairAddr!="")if(B(e.value.pairAddr))r.pairAddr=D(e.value.pairAddr);else{U.warning("Wrong Pair Address.");return}if(e.value.trader!=""&&(r.trader=e.value.trader),e.value.token!="")if(B(e.value.token))r._token=D(e.value.token);else{U.warning("Wrong Token Address.");return}try{const s=await le(i,r,p);A.value=oe(s.list),i.value={...i.value,total:s.count}}catch(s){console.log(s)}finally{y.value=!1}};q(()=>{h()});const w=r=>{i.value.current=1,i.value.previous=i.value.current,h()},M=r=>{w()},L=r=>{w()},P=(r,s)=>{r.sorter?(p.value.sortBy=r.sorter.sortBy,p.value.descending=r.sorter.descending):r.pagination||(p.value.sortBy=void 0,p.value.descending=void 0),r.pagination&&(i.value.current=r.pagination.current,i.value.previous=r.pagination.previous,i.value.pageSize=r.pagination.pageSize),h()},W=G(()=>({offsetTop:o.isUseTabsRouter?48:0,container:`.${J}-layout`}));return(r,s)=>{const k=d("t-input"),m=d("t-form-item"),u=d("t-col"),S=d("t-select"),V=d("t-row"),E=d("t-button"),$=d("t-form"),N=d("t-tag"),z=d("router-link"),F=d("t-table");return g(),j("div",ne,[t($,{ref:"form",data:e.value,"label-width":80,colon:"",style:{marginBottom:"8px"},onReset:M,onSubmit:L},{default:a(()=>[t(V,null,{default:a(()=>[t(u,{span:10},{default:a(()=>[t(V,{gutter:[16,24]},{default:a(()=>[t(u,{span:6},{default:a(()=>[t(m,{label:"Pair",name:"pairAddr"},{default:a(()=>[t(k,{modelValue:e.value.pairAddr,"onUpdate:modelValue":s[0]||(s[0]=l=>e.value.pairAddr=l),class:"form-item-content",type:"search",placeholder:"Please input the pair address",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(m,{label:"KOL Addr",name:"trader"},{default:a(()=>[t(k,{modelValue:e.value.trader,"onUpdate:modelValue":s[1]||(s[1]=l=>e.value.trader=l),class:"form-item-content",type:"search",placeholder:"Please input the tracked address/memo",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(m,{label:"Token",name:"token"},{default:a(()=>[t(k,{modelValue:e.value.token,"onUpdate:modelValue":s[2]||(s[2]=l=>e.value.token=l),class:"form-item-content",type:"search",placeholder:"main token address(eg: PEPE address)",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:3},{default:a(()=>[t(m,{label:"Type",name:"direction"},{default:a(()=>[t(S,{modelValue:e.value.direction,"onUpdate:modelValue":s[3]||(s[3]=l=>e.value.direction=l),class:"form-item-content",options:f(Q),placeholder:"Swap Type"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(u,{span:3},{default:a(()=>[t(m,{label:"EventTime",name:"recentdays"},{default:a(()=>[t(S,{modelValue:e.value.recentdays,"onUpdate:modelValue":s[4]||(s[4]=l=>e.value.recentdays=l),style:{display:"inline-block"},class:"form-item-content",options:f(X),placeholder:"Time Range"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1}),t(u,{span:2,class:"operation-container"},{default:a(()=>[t(E,{theme:"primary",type:"submit",style:{marginLeft:"8px"}},{default:a(()=>[v(" Search ")]),_:1}),t(E,{type:"reset",variant:"base",theme:"default"},{default:a(()=>[v(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),T("div",re,[t(F,{data:A.value,columns:c,"row-key":de,"vertical-align":ue,hover:ce,pagination:i.value,loading:y.value,"header-affixed-top":W.value,onChange:P},{direction:a(({row:l})=>[l.direction===f(C).BUY_ADD?(g(),x(N,{key:0,theme:"success",variant:"light"},{default:a(()=>[v(" Buy ")]),_:1})):I("v-if",!0),l.direction===f(C).SELL_REMOVE?(g(),x(N,{key:1,theme:"danger",variant:"light"},{default:a(()=>[v(" Sell ")]),_:1})):I("v-if",!0)]),pairName:a(({row:l})=>[t(z,{to:"/detail/pair/"+l.pairAddr},{default:a(()=>[v(b(l.pairName),1)]),_:2},1032,["to"])]),txhash:a(({row:l})=>[T("a",{class:"t-button-link",href:"https://etherscan.io/tx/"+l.txhash,target:"_blank"},b(f(te)(l.txhash,6,2)),9,se)]),memo:a(({row:l})=>[T("a",{class:"t-button-link",href:"https://etherscan.io/address/"+l.address,target:"_blank"},b(l.memo),9,ie)]),_:1},8,["data","pagination","loading","header-affixed-top"])])])}}});var me=K(pe,[["__scopeId","data-v-c516556a"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/user/trackswap/components/CommonTable.vue"]]);const _e={name:"ListFilter"},fe=O({..._e,setup(n){return(o,c)=>(g(),x(me))}});var ke=K(fe,[["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/user/trackswap/index.vue"]]);export{ke as default};
