import{_ as L,e as R,ab as z,r as s,l as M,w as G,s as N,h as c,z as x,x as r,o,i as v,F as O,y as Y,t as i,n as q,aa as f,v as S,A as b,C as U}from"./index.25c6b338.js";import{G as $,F as j}from"./pair.894a88cf.js";import{t as J}from"./ethereum.88591da8.js";import{G as Q,F as W}from"./swap.9d4ba6ec.js";import{c as d}from"./index.c5b3554b.js";import{b as w}from"./index.daacec76.js";const X={address:{name:"Pool Address",value:"NA",href:null},price:{name:"Price",value:"NA",href:null},token0:{name:"Token0",value:"NA",href:null},priceChangeIn1h:{name:"Price Change(1h)",value:"NA",href:null},token1:{name:"Token1",value:"NA",href:null},priceChangeIn24h:{name:"Price Change(24h)",value:"NA",href:null},firstAddTxHash:{name:"First Liquidity TxHash",value:"NA",href:null},txNumIn1h:{name:"Transactions Num(1h)",value:"NA",href:null},volumeByUsdIn1h:{name:"USD Volume(1h)",value:"NA",href:null},txNumIn24h:{name:"Transactions Num(24h)",value:"NA",href:null},volumeByUsdIn24h:{name:"USD Volume(24h)",value:"NA",href:null},txNumChangeIn1h:{name:"TxNum Change(1h)",value:"NA",href:null},firstAddPoolTime:{name:"Born At",value:"NA",href:null},txNumChangeIn24h:{name:"TxNum Change(24h)",value:"NA",href:null}},Z=[{title:"Pair Name",fixed:"left",width:200,ellipsis:!0,align:"left",colKey:"pairName"},{title:"Price",width:100,ellipsis:!0,colKey:"price"},{title:"Direction",colKey:"direction",width:100},{title:"Amount",width:100,ellipsis:!0,sorter:!0,colKey:"amountOfMainToken"},{title:"Trader",align:"left",fixed:"right",width:150,colKey:"trader"},{title:"USD Value",width:100,ellipsis:!0,sorter:!0,colKey:"volumeInUsd"},{title:"TxHash",width:150,ellipsis:!0,colKey:"txHash"},{title:"Swap Time",width:150,ellipsis:!0,colKey:"swapTime"}];const ee={class:"detail-advanced"},ae={class:"info-block"},te=["href"],ne=["href"],se=["href"],le=["href"],re={name:"DetailAdvanced"},oe=R({...re,setup(ue){const m=z(),y=s([]),u=s(),A=s(),p=s(),_=s(!1),a=s(X),l=s({current:1,previous:1,pageSize:10,total:100}),h=s({sortBy:void 0,descending:void 0}),D=()=>(u.value=m.currentRoute.value.params.address,J(u.value)?0:(m.push("/result/404"),-1)),g=s(0),H=()=>{setInterval(()=>{g.value>5&&(g.value=-1),g.value+=1},2e3)},E=async()=>{var e={address:u.value};try{const n=await $(l,e,null);!n.list||n.list.length!=1?m.push("/result/404"):(p.value=j(n.list)[0],A.value=p.value.pairName,P(p.value))}catch(n){console.log(n)}},P=e=>{a.value.address.value=d(e.address,12,8),a.value.address.href="https://etherscan.io/address/"+e.address,a.value.token0.value=d(e.token0,12,8),a.value.token0.href="https://etherscan.io/address/"+e.token0,a.value.token1.value=d(e.token1,12,8),a.value.token1.href="https://etherscan.io/address/"+e.token1,a.value.firstAddTxHash.value=d(e.firstAddTxHash,16,10),a.value.firstAddTxHash.href="https://etherscan.io/tx/"+e.firstAddTxHash,a.value.txNumIn1h.value=e.txNumIn1h,a.value.txNumIn24h.value=e.txNumIn24h,a.value.txNumChangeIn1h.value=e.txNumChangeIn1h,a.value.txNumChangeIn24h.value=e.txNumChangeIn24h,a.value.price.value=e.price,a.value.priceChangeIn1h.value=e.priceChangeIn1h,a.value.priceChangeIn24h.value=e.priceChangeIn24h,a.value.volumeByUsdIn1h.value=e.volumeByUsdIn1h,a.value.volumeByUsdIn24h.value=e.volumeByUsdIn24h,a.value.firstAddPoolTime.value=e.firstAddPoolTime},I=()=>{E(),k()},k=async()=>{_.value=!0;var e={recentdays:30,pairAddr:u.value};try{const n=await Q(l,e,h);y.value=W(n.list),l.value={...l.value,total:n.count}}catch(n){console.log(n)}finally{_.value=!1}};M(()=>{console.log("onMounted"),!(D()<0)&&(H(),I(),G(()=>m.currentRoute.value,(e,n)=>{e.params.address!=null&&u.value!=e.params.address&&(u.value=e.params.address,I())}))}),s(!1);const K=e=>{console.log(e)},V=(e,n)=>{e.sorter?(h.value.sortBy=e.sorter.sortBy,h.value.descending=e.sorter.descending):e.pagination||(h.value.sortBy=void 0,h.value.descending=void 0),e.pagination&&(l.value.current=e.pagination.current,l.value.previous=e.pagination.previous,l.value.pageSize=e.pagination.pageSize),k()};return(e,n)=>{const C=N("t-card"),T=N("t-tag"),F=N("t-table");return o(),c("div",ee,[x(C,{pair:p.value,title:A.value},{default:r(()=>[v("div",ae,[(o(!0),c(O,null,Y(a.value,(t,B)=>(o(),c("div",{key:B,class:"info-item",span:10},[v("h1",null,i(t.name),1),t.href?(o(),c("a",{key:0,href:t.href,target:"_blank"},i(t.value),9,te)):(o(),c("span",{key:1,class:q({highlight:B==="firstAddPoolTime"})},i(t.value),3))]))),128))])]),_:1},8,["pair","title"]),x(C,{title:"Swap Transactions",class:"container-base-margin-top"},{default:r(()=>[x(F,{columns:f(Z),data:y.value,pagination:l.value,hover:!0,loading:_.value,"row-key":"index",size:"large",onSortChange:K,onChange:V},{direction:r(({row:t})=>[t.direction===f(w).BUY_ADD?(o(),S(T,{key:0,theme:"success",variant:"light"},{default:r(()=>[b(" Buy ")]),_:1})):U("v-if",!0),t.direction===f(w).SELL_REMOVE?(o(),S(T,{key:1,theme:"danger",variant:"light"},{default:r(()=>[b(" Sell ")]),_:1})):U("v-if",!0)]),pairName:r(({row:t})=>[v("a",{class:"t-button-link",href:"https://etherscan.io/address/"+t.pairAddr,target:"_blank"},i(t.pairName),9,ne)]),txHash:r(({row:t})=>[v("a",{class:"t-button-link",href:"https://etherscan.io/tx/"+t.txHash,target:"_blank"},i(f(d)(t.txHash,8,4)),9,se)]),trader:r(({row:t})=>[v("a",{class:"t-button-link",href:"https://etherscan.io/address/"+t.trader,target:"_blank"},i(f(d)(t.trader,6,4)),9,le)]),_:1},8,["columns","data","pagination","loading"])]),_:1})])}}});var me=L(oe,[["__scopeId","data-v-646c5fd9"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/details/pair/advanced/index.vue"]]);export{me as default};
