import{d as N,s as G,r as c,a as q,x as J,H as Q,c as n,g as X,h as o,w as e,m as f,M as Z,e as I,k as i,j as l,t as d,I as ee,p as te,l as ae,_ as U,f as oe}from"./index.46a70b3a.js";import{c as ue,a as y,f as x}from"./format.2cb2ce4b.js";import{W as se}from"./index.09a4d251.js";import{a as le}from"./partner.af4a37ef.js";import{I as D,t as re}from"./ethereum.c63c5d0a.js";import"./encrypt.e83c562a.js";const B=m=>(te("data-v-2aded756"),m=m(),ae(),m),ne={class:"list-common-table"},ie={class:"table-container"},de=B(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),ce=B(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),pe=B(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),fe=B(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),me=B(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),_e="index",ve="top",ye=!0,Be=N({__name:"CommonTable",setup(m){const F=G();c(""),c(!1);const T=()=>{var t=A.currentRoute.value.params.address;Array.isArray(t)&&(t=t[0]),D(t)&&(s.value.address=t)},K=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],W=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],M=[{title:"User Address",width:150,colKey:"address"},{title:"Weight",width:100,sorter:!0,colKey:"weight"},{title:"Win Ratio",colKey:"winRatio",sorter:!0,width:100},{title:"Eth Balance",colKey:"ethBalance",sorter:!0,width:100},{title:"Total Trade Num",colKey:"totalTradeCount",sorter:!0,width:120},{title:"Valid Trade Num",colKey:"validTradeCount",sorter:!0,width:120},{title:"Earn Value",colKey:"totalWinValue",sorter:!0,width:100},{title:"MevBuy",colKey:"buyMevRatio",sorter:!0,width:100},{title:"FreshBuy",colKey:"buyFreshRatio",sorter:!0,width:100},{title:"SubNewBuy",colKey:"buySubnewRatio",sorter:!0,width:100},{title:"Epoch",width:100,colKey:"epoch"},{title:"Type",width:100,colKey:"type"}],A=q(),r=c({current:1,previous:1,pageSize:10,total:100}),_=c({sortBy:"",descending:!0}),b=c([]),R=c(!1),s=c({address:"",mevBuyRatio:0,freshBuyRatio:0,type:0}),g=async()=>{R.value=!0;var t={};if(s.value.address!="")if(D(s.value.address))t.address=re(s.value.address);else{Z.warning("Wrong User Address.");return}s.value.mevBuyRatio>0&&(t.mevBuyRatio=s.value.mevBuyRatio),s.value.freshBuyRatio>0&&(t.freshBuyRatio=s.value.freshBuyRatio),s.value.type>0&&(t.type=s.value.type);try{const u=await le(r,t,_);b.value=[],u.list!=null&&(b.value=u.list),r.value={...r.value,total:u.count}}catch(u){console.log(u),u.response.status==401&&A.push("/login")}finally{R.value=!1}};J(()=>{T(),g()});const O=t=>{var u="Frontrun";return t==2?u="Rush":t==3&&(u="Trend"),u},E=()=>{r.value.current=1,r.value.previous=r.value.current},V=t=>{E(),g()},k=t=>{V()},L=t=>{V()},z=(t,u)=>{t.sorter?(_.value.sortBy=t.sorter.sortBy,_.value.descending=t.sorter.descending,E()):t.pagination||(_.value.sortBy=void 0,_.value.descending=void 0,E()),t.pagination&&(r.value.current=t.pagination.current,r.value.previous=t.pagination.previous,r.value.pageSize=t.pagination.pageSize),g()},H=Q(()=>({offsetTop:F.isUseTabsRouter?48:0,container:`.${ee}-layout`}));return(t,u)=>{const Y=n("t-input"),h=n("t-form-item"),p=n("t-col"),w=n("t-select"),S=n("t-row"),C=n("t-button"),$=n("t-form"),P=n("router-link"),v=n("t-tooltip"),j=n("t-table");return I(),X("div",ne,[o($,{ref:"form",data:s.value,"label-width":80,colon:"",style:{marginBottom:"8px"},onReset:k,onSubmit:L},{default:e(()=>[o(S,null,{default:e(()=>[o(p,{span:10},{default:e(()=>[o(S,{gutter:[16,24]},{default:e(()=>[o(p,{span:12},{default:e(()=>[o(h,{label:"UserAddr",name:"address"},{default:e(()=>[o(Y,{modelValue:s.value.address,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value.address=a),class:"form-item-content",type:"search",placeholder:"Please user address",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:4},{default:e(()=>[o(h,{label:"Mev Ratio",name:"mevBuyRatio"},{default:e(()=>[o(w,{modelValue:s.value.mevBuyRatio,"onUpdate:modelValue":u[1]||(u[1]=a=>s.value.mevBuyRatio=a),class:"form-item-content",options:K,placeholder:"Fresh Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:4},{default:e(()=>[o(h,{label:"Fresh Ratio",name:"freshBuyRatio"},{default:e(()=>[o(w,{modelValue:s.value.freshBuyRatio,"onUpdate:modelValue":u[2]||(u[2]=a=>s.value.freshBuyRatio=a),class:"form-item-content",options:W,placeholder:"Mev Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:4},{default:e(()=>[o(h,{label:"Type",name:"type"},{default:e(()=>[o(w,{modelValue:s.value.type,"onUpdate:modelValue":u[3]||(u[3]=a=>s.value.type=a),class:"form-item-content",options:i(se),placeholder:" Wiser Type"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1}),o(p,{span:2,class:"operation-container"},{default:e(()=>[o(C,{theme:"primary",type:"submit",style:{marginLeft:"8px"}},{default:e(()=>[l(" Search ")]),_:1}),o(C,{type:"reset",variant:"base",theme:"default"},{default:e(()=>[l(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),f("div",ie,[o(j,{data:b.value,columns:M,"row-key":_e,"vertical-align":ve,hover:ye,pagination:r.value,loading:R.value,"header-affixed-top":H.value,onChange:z},{address:e(({row:a})=>[o(P,{to:"/partner/deals/"+a.address},{default:e(()=>[l(d(i(ue)(a.address,8,4)),1)]),_:2},1032,["to"])]),winRatio:e(({row:a})=>[l(d(i(y)(Number(a.winRatio)))+"% ",1),o(v,{content:"\u7B26\u5408\u6761\u4EF6\u7684\u6709\u6548\u4E70\u5356(\u53BB\u6389mev\u7B49)\u76C8\u5229\u6BD4\u4F8B"},{default:e(()=>[de]),_:1})]),totalWinValue:e(({row:a})=>[l(" $"+d(i(x)(Number(a.totalWinValue))),1)]),ethBalance:e(({row:a})=>[l(d(i(x)(Number(a.ethBalance))),1)]),averageEarnRatio:e(({row:a})=>[l(d(i(y)(Number(a.averageEarnRatio)))+"% ",1)]),buyMevRatio:e(({row:a})=>[l(d(i(y)(Number(a.buyMevRatio)))+"% ",1),o(v,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA \u540C\u533A\u5757 \u5373\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[ce]),_:1})]),buyFreshRatio:e(({row:a})=>[l(d(i(y)(Number(a.buyFreshRatio)))+"% ",1),o(v,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 5\u5206\u949F \u5185\u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[pe]),_:1})]),buySubnewRatio:e(({row:a})=>[l(d(i(y)(Number(a.buySubnewRatio)))+"% ",1),o(v,{content:"\u6B21\u65B0\u5E01\u6BD4\u4F8B: \u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 7\u5929\u5185 \u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[fe]),_:1})]),type:e(({row:a})=>[l(d(O(a.type))+" ",1),o(v,{content:"\u8D26\u53F7\u6301\u6709\u98CE\u683C: \u54EA\u4E00\u9879\u4E70\u5356\u6BD4\u4F8B\u6700\u9AD8, \u5C31\u4E3A\u4F55\u79CD\u7C7B\u578B."},{default:e(()=>[me]),_:1})]),_:1},8,["data","pagination","loading","header-affixed-top"])])])}}});var he=U(Be,[["__scopeId","data-v-2aded756"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/components/CommonTable.vue"]]);const be={name:"ListFilter"},Re=N({...be,setup(m){return(F,T)=>(I(),oe(he))}});var Ve=U(Re,[["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/index.vue"]]);export{Ve as default};
