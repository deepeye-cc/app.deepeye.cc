import{d as H,u as W,r as C,o as j,n as J,a as Q,w as G,b as d,c as b,e as n,f as a,F as z,g as p,h as X,i as Y,j as Z,k as u,l as _,m as $,t as B,p as l,q as x,_ as F}from"./index.616e9840.js";import{g as ee,u as te,i as ae,a as ne,b as oe,c as se,d as O}from"./dayjs.min.296001c4.js";import{T as I}from"./index.d3d8917d.js";import{f as i,a as r,r as re}from"./index.39a423a0.js";const le=[{title:"Pair Name",align:"left",ellipsis:!0,colKey:"pairName",width:180},{title:"Price",align:"center",colKey:"priceChangeIn24h",width:110},{title:"Tx Num",align:"center",colKey:"txNumIn24h",width:90},{title:"Volume",align:"center",colKey:"volumeByUsdIn24h",width:100}],ie=[{title:"Pair Name",align:"left",ellipsis:!0,colKey:"pairName",width:180},{title:"Price",align:"center",colKey:"priceChangeIn24h",width:110},{title:"Tx Num",align:"center",colKey:"txNumIn24h",width:90},{title:"Volume",align:"center",colKey:"volumeByUsdIn24h",width:100}];function A(t){const s={xAxis:{type:"category",show:!1,data:["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"]},yAxis:{show:!1,type:"value"},grid:{top:0,left:0,right:0,bottom:0}};return t==="line"?{...s,color:["#fff"],series:[{data:[150,230,224,218,135,147,260],type:t,showSymbol:!0,symbol:"circle",symbolSize:0,markPoint:{data:[{type:"max",name:"\u6700\u5927\u503C"},{type:"min",name:"\u6700\u5C0F\u503C"}]},lineStyle:{width:2}}]}:{...s,color:ee(),series:[{data:[100,130,184,218,{value:135,itemStyle:{opacity:.2}},{value:118,itemStyle:{opacity:.2}},{value:60,itemStyle:{opacity:.2}}],type:t,barWidth:9}]}}const de={Url:"/global"};function ue(t){var e=t.global,s={value1h:i(e.txNumIn1h),value24h:i(e.txNumIn24h),trend1h:r(e.txNumChangeIn1h),trend24h:r(e.txNumChangeIn24h)},c={value1h:`$${i(e.volumeByUsdIn1h)}`,value24h:`$${i(e.volumeByUsdIn24h)}`,trend1h:r(e.volumeChangeByUsdIn1h),trend24h:r(e.volumeChangeByUsdIn24h)},h={value1h:0,value24h:`${(e.baseGasPrice/1e9).toFixed(2)} gwei`,trend1h:r(e.baseGasPriceChgIn1h),trend24h:r(e.baseGasPriceChgIn24h)},N={transactions:s,volumes:c,baseGas:h};return N}function ce(t){for(let e=0;e<t.hot.length;e++)t.hot[e].priceChangeIn24h=`${r(Number(t.hot[e].priceChangeIn24h))}`,t.hot[e].txNumIn24h=`${i(Number(t.hot[e].txNumIn24h))}`,t.hot[e].volumeByUsdIn24h=`$${i(Number(t.hot[e].volumeByUsdIn24h))}`,t.hot[e].rowIndex=e;for(let e=0;e<t.hot.length;e++)t.new[e].priceChangeIn24h=`${r(Number(t.new[e].priceChangeIn24h))}`,t.new[e].txNumIn24h=`${i(Number(t.new[e].txNumIn24h))}`,t.new[e].volumeByUsdIn24h=`$${i(Number(t.new[e].volumeByUsdIn24h))}`,t.new[e].rowIndex=e;return t}async function he(){return re.get({url:de.Url})}const me={class:"dashboard-item-top"},_e={class:"dashboard-item-left"},pe={class:"dashboard-item-bottom"},ve={class:"dashboard-item-block"},ye={class:"dashboard-item-bottom"},be={class:"dashboard-item-block"},fe={name:"DashboardBase"},ge=H({...fe,setup(t){te([ae,ne,oe]);const e=W(),s=C(1);let c,h;const N=()=>{c||(c=document.getElementById("moneyContainer")),h=O(c),h.setOption(A("line"))};let k,f;const M=()=>{k||(k=document.getElementById("refundContainer")),f=O(k),f.setOption(A("bar"))},q=()=>{N(),M()},T=()=>{},g=C([{title:"Total Transactions(24H)",data:{value1h:0,value24h:0,trend1h:0,trend24h:0}},{title:"Total Volume in USD(24H)",data:{value1h:0,value24h:0,trend1h:0,trend24h:0}},{title:"Base Gas Price(Realtime)",data:{value1h:0,value24h:0,trend1h:0,trend24h:0}},{title:"Reserved",data:{value1h:0,value24h:0,trend1h:0,trend24h:0}}]);var U=C([]),E=C([]);const R=async()=>{try{var v=await he(),w=ue(v);g.value[0].data=w.transactions,g.value[1].data=w.volumes,g.value[2].data=w.baseGas;var m=ce(v);U.value=m.hot,E.value=m.new}catch(y){console.log(y)}};return j(()=>{R(),J(()=>{}),window.addEventListener("resize",T,!1)}),Q(()=>{window.removeEventListener("resize",T)}),G(()=>e.brandTheme,()=>{se([f])}),G(()=>e.mode,()=>{[h,f].forEach(v=>{v.dispose()}),q()}),(v,w)=>{const m=d("t-card"),y=d("t-col"),D=d("t-row"),P=d("t-radio-button"),K=d("t-radio-group"),S=d("router-link"),V=d("t-table");return p(),b(z,null,[n(D,{gutter:[16,16]},{default:a(()=>[(p(!0),b(z,null,X(g.value,(o,L)=>(p(),Y(y,{key:o.title,xs:6,xl:3},{default:a(()=>[n(m,{title:o.title,style:{height:"180px"},class:Z({"dashboard-item":!0})},{footer:a(()=>[u("div",pe,[u("div",ve,[_(" Last 1h: "),n(I,{class:"dashboard-item-trend",type:o.data.trend1h>=0?"up":"down",describe:o.data.trend1h},null,8,["type","describe"])])]),u("div",ye,[u("div",be,[_(" Last 24h: "),n(I,{class:"dashboard-item-trend",type:o.data.trend24h>=0?"up":"down",describe:o.data.trend24h},null,8,["type","describe"])])])]),default:a(()=>[u("div",me,[u("span",{style:$({fontSize:`${s.value*36}px`})},B(o.data.value24h),5)]),u("div",_e,[L===0?(p(),b("div",{key:0,id:"moneyContainer",class:"dashboard-chart-container",style:$({width:`${s.value*120}px`,height:`${s.value*66}px`})},null,4)):L===1?(p(),b("div",{key:1,id:"refundContainer",class:"dashboard-chart-container",style:$({width:`${s.value*120}px`,height:`${s.value*42}px`})},null,4)):l("v-if",!0)])]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1}),n(D,{gutter:16,class:"row-container"},{default:a(()=>[l(" hot token card "),n(y,{xs:12,xl:6},{default:a(()=>[n(m,{title:"Hot Token",class:"dashboard-rank-card",bordered:!1},{actions:a(()=>[n(K,{"default-value":"dateVal"},{default:a(()=>[n(P,{value:"monthVal"},{default:a(()=>[_("Last 24H")]),_:1})]),_:1})]),default:a(()=>[n(V,{data:x(U),columns:x(le),"row-key":"colKey"},{priceChangeIn24h:a(({row:o})=>[n(I,{type:o.priceChangeIn24h>0?"up":"down",describe:o.priceChangeIn24h},null,8,["type","describe"])]),pairName:a(({row:o})=>[n(S,{to:"/detail/pair/"+o.address},{default:a(()=>[_(B(o.pairName),1)]),_:2},1032,["to"])]),_:1},8,["data","columns"])]),_:1})]),_:1}),l(" new token card "),n(y,{xs:12,xl:6},{default:a(()=>[n(m,{title:"New Token",class:"dashboard-rank-card",bordered:!1},{actions:a(()=>[n(K,{"default-value":"dateVal"},{default:a(()=>[n(P,{value:"monthVal"},{default:a(()=>[_("Last 24H")]),_:1})]),_:1})]),default:a(()=>[n(V,{data:x(E),columns:x(ie),"row-key":"colKey"},{priceChangeIn24h:a(({row:o})=>[n(I,{type:o.priceChangeIn24h>0?"up":"down",describe:o.priceChangeIn24h},null,8,["type","describe"])]),pairName:a(({row:o})=>[n(S,{to:"/detail/pair/"+o.address},{default:a(()=>[_(B(o.pairName),1)]),_:2},1032,["to"])]),_:1},8,["data","columns"])]),_:1})]),_:1})]),_:1})],64)}}});var we=F(ge,[["__scopeId","data-v-6543c289"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/dashboard/base/components/TopPanel.vue"]]);const Ce={name:"DashboardBase"},xe=H({...Ce,setup(t){return(e,s)=>(p(),b("div",null,[l(" \u9876\u90E8 card  "),n(we,{class:"row-container"}),l(" \u5217\u8868\u6392\u540D "),l(' <rank-list class="row-container" /> '),l(" hot list "),l(' <hot-list class="row-container" /> ')]))}});var Be=F(xe,[["__scopeId","data-v-0d2b0973"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/dashboard/base/index.vue"]]);export{Be as default};
