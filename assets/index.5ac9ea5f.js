import{_ as L,e as R,ab as z,r as s,l as M,w as O,s as g,h,z as N,x as l,o as u,i as c,F as G,y as Y,t as i,n as q,aa as v,v as S,A as b,C as U}from"./index.88d5b752.js";import{b as $,F as j}from"./pair.4e0f404b.js";import{t as J}from"./ethereum.5be579f0.js";import{G as Q,F as W}from"./swap.1ff825f7.js";import{c as x}from"./index.b9165e13.js";import{b as w}from"./index.daacec76.js";const X={address:{name:"Pool Address",value:"NA",href:null},price:{name:"Price",value:"NA",href:null},token0:{name:"Token0",value:"NA",href:null},priceChangeIn1h:{name:"Price Change(1h)",value:"NA",href:null},token1:{name:"Token1",value:"NA",href:null},priceChangeIn24h:{name:"Price Change(24h)",value:"NA",href:null},firstAddTxHash:{name:"First Liquidity TxHash",value:"NA",href:null},txNumIn1h:{name:"Txs Num(1h)",value:"NA",href:null},volumeByUsdIn1h:{name:"USD Volume(1h)",value:"NA",href:null},txNumIn24h:{name:"Txs Num(24h)",value:"NA",href:null},volumeByUsdIn24h:{name:"USD Volume(24h)",value:"NA",href:null},txNumChangeIn1h:{name:"TxNum Change(1h)",value:"NA",href:null},firstAddPoolTime:{name:"Born At",value:"NA",href:null},txNumChangeIn24h:{name:"TxNum Change(24h)",value:"NA",href:null}},Z=[{title:"Pair Name",fixed:"left",width:200,ellipsis:!0,align:"left",colKey:"pairName"},{title:"Price",width:100,ellipsis:!0,colKey:"price"},{title:"Direction",colKey:"direction",width:100},{title:"Amount",width:100,ellipsis:!0,sorter:!0,colKey:"amountOfMainToken"},{title:"Trader",align:"left",fixed:"right",width:150,colKey:"trader"},{title:"USD Value",width:100,ellipsis:!0,sorter:!0,colKey:"volumeInUsd"},{title:"TxHash",width:150,ellipsis:!0,colKey:"txHash"},{title:"Swap Time",width:150,ellipsis:!0,colKey:"swapTime"}];const ee={class:"detail-advanced"},ae={class:"info-block"},te=["href"],ne=["href"],se=["href"],le=["href"],re={name:"DetailAdvanced"},oe=R({...re,setup(ue){const m=z(),y=s([]),r=s(),A=s(),f=s(),p=s(!1),a=s(X),o=s({current:1,previous:1,pageSize:10,total:100}),d=s({sortBy:void 0,descending:void 0}),D=()=>(r.value=m.currentRoute.value.params.address,J(r.value)?0:(m.push("/result/404"),-1)),_=s(0),H=()=>{setInterval(()=>{_.value>5&&(_.value=-1),_.value+=1},2e3)},E=async()=>{r.value;try{const n=await $(r.value);var e=[];e.push(n),f.value=j(e)[0],A.value=f.value.pairName,P(f.value)}catch(n){console.log(n)}},P=e=>{a.value.address.value=e.address,a.value.address.href="https://etherscan.io/address/"+e.address,a.value.token0.value=e.token0,a.value.token0.href="https://etherscan.io/address/"+e.token0,a.value.token1.value=e.token1,a.value.token1.href="https://etherscan.io/address/"+e.token1,a.value.firstAddTxHash.value=x(e.firstAddTxHash,24,16),a.value.firstAddTxHash.href="https://etherscan.io/tx/"+e.firstAddTxHash,a.value.txNumIn1h.value=e.txNumIn1h,a.value.txNumIn24h.value=e.txNumIn24h,a.value.txNumChangeIn1h.value=e.txNumChangeIn1h,a.value.txNumChangeIn24h.value=e.txNumChangeIn24h,a.value.price.value=e.price,a.value.priceChangeIn1h.value=e.priceChangeIn1h,a.value.priceChangeIn24h.value=e.priceChangeIn24h,a.value.volumeByUsdIn1h.value=e.volumeByUsdIn1h,a.value.volumeByUsdIn24h.value=e.volumeByUsdIn24h,a.value.firstAddPoolTime.value=e.firstAddPoolTime},I=()=>{E(),k()},k=async()=>{p.value=!0;var e={recentdays:30,pairAddr:r.value};try{const n=await Q(o,e,d);y.value=W(n.list),o.value={...o.value,total:n.count}}catch(n){console.log(n)}finally{p.value=!1}};M(()=>{D()<0||(H(),I(),O(()=>m.currentRoute.value,(e,n)=>{e.params.address!=null&&r.value!=e.params.address&&(r.value=e.params.address,I())}))}),s(!1);const K=e=>{console.log(e)},V=(e,n)=>{e.sorter?(d.value.sortBy=e.sorter.sortBy,d.value.descending=e.sorter.descending):e.pagination||(d.value.sortBy=void 0,d.value.descending=void 0),e.pagination&&(o.value.current=e.pagination.current,o.value.previous=e.pagination.previous,o.value.pageSize=e.pagination.pageSize),k()};return(e,n)=>{const C=g("t-card"),T=g("t-tag"),F=g("t-table");return u(),h("div",ee,[N(C,{pair:f.value,title:A.value},{default:l(()=>[c("div",ae,[(u(!0),h(G,null,Y(a.value,(t,B)=>(u(),h("div",{key:B,class:"info-item",span:10},[c("h1",null,i(t.name),1),t.href?(u(),h("a",{key:0,href:t.href,target:"_blank"},i(t.value),9,te)):(u(),h("span",{key:1,class:q({highlight:B==="firstAddPoolTime"})},i(t.value),3))]))),128))])]),_:1},8,["pair","title"]),N(C,{title:"Swap Transactions",class:"container-base-margin-top"},{default:l(()=>[N(F,{columns:v(Z),data:y.value,pagination:o.value,hover:!0,loading:p.value,"row-key":"index",size:"large",onSortChange:K,onChange:V},{direction:l(({row:t})=>[t.direction===v(w).BUY_ADD?(u(),S(T,{key:0,theme:"success",variant:"light"},{default:l(()=>[b(" Buy ")]),_:1})):U("v-if",!0),t.direction===v(w).SELL_REMOVE?(u(),S(T,{key:1,theme:"danger",variant:"light"},{default:l(()=>[b(" Sell ")]),_:1})):U("v-if",!0)]),pairName:l(({row:t})=>[c("a",{class:"t-button-link",href:"https://etherscan.io/address/"+t.pairAddr,target:"_blank"},i(t.pairName),9,ne)]),txHash:l(({row:t})=>[c("a",{class:"t-button-link",href:"https://etherscan.io/tx/"+t.txHash,target:"_blank"},i(v(x)(t.txHash,8,4)),9,se)]),trader:l(({row:t})=>[c("a",{class:"t-button-link",href:"https://etherscan.io/address/"+t.trader,target:"_blank"},i(v(x)(t.trader,6,4)),9,le)]),_:1},8,["columns","data","pagination","loading"])]),_:1})])}}});var me=L(oe,[["__scopeId","data-v-646c5fd9"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/details/pair/advanced/index.vue"]]);export{me as default};
