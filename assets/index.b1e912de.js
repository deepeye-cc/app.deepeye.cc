import{q as za,_ as Ga,d as Ha,s as Va,a as Wa,r as at,x as Fa,v as Ln,H as Ya,o as Za,c as Zt,g as ut,h as U,w as F,i as Te,e as tt,m as q,k as St,F as Xa,y as Ua,t as Pt,n as $a,f as kn,j as Dn,p as Ka,l as qa}from"./index.7153c215.js";import{b as ja,F as Qa}from"./pair.2044c7e4.js";import{T as ne}from"./index.81b53ad7.js";import{t as Ja}from"./ethereum.48830945.js";import{G as to,F as eo}from"./swap.8b20231c.js";import{b as no,c as Me}from"./format.2cb2ce4b.js";import{e as ro,m as E,f as xt,h as lt,n as ei,j as ln,r as mt,_ as k,k as V,l as io,o as ni,p as Pn,q as ao,s as Kt,t as oo,O as nt,v as Ve,w as ri,x as ii,y as ue,z as On,A as so,B as lo,C as he,D as uo,E as ai,F as oi,G as si,H as li,I as ui,J as ci,K as co,L as ho,M as fo,N as vo,P as po,Q as go,R as yo,S as mo,T as Bn,U as xo,V as bt,W as Rn,X as j,Y as We,Z as un,$ as b,a0 as bo,a1 as _o,a2 as wo,a3 as Ao,a4 as Co,a5 as Ft,a6 as cn,a7 as hi,a8 as Mt,a9 as At,aa as _t,ab as So,ac as W,ad as Y,ae as To,af as fi,ag as vi,ah as Mo,ai as zt,aj as jt,ak as di,al as Gt,am as Q,an as ge,ao as fe,ap as pi,aq as rt,ar as Ht,as as hn,at as ot,au as Io,av as gi,aw as En,ax as gt,ay as ft,az as yi,aA as ve,aB as R,aC as J,aD as Ct,aE as vt,aF as Lo,aG as ye,aH as it,aI as mi,aJ as ko,aK as Do,aL as Po,aM as Oo,aN as xi,aO as Bo,aP as Ro,g as Eo,aQ as No,aR as fn,aS as zo,aT as Go,aU as bi,aV as st,aW as Ho,aX as Vo,aY as vn,aZ as Wo,a_ as G,a$ as Fo,u as wt,b0 as Yo,b1 as Zo,b2 as Nt,b3 as Xo,b4 as Uo,b5 as Ie,b6 as Le,b7 as _i,b8 as Nn,b9 as wi,ba as $o,bb as Ko,bc as Ai,bd as qo,be as de,bf as Ci,bg as jo,bh as Qo,bi as Jo,bj as ts,bk as es,bl as zn,bm as ke,bn as ns,bo as Gn,bp as Hn,bq as rs,br as is,bs as as,bt as os,bu as Si,bv as Vn,bw as ss,bx as ls,by as us,bz as cs,bA as Wn,bB as hs,bC as fs,bD as vs,d as Fn,a as ds,i as ps,b as gs,c as ys}from"./dayjs.min.767908e1.js";import{b as Yn}from"./index.fb3dd0e2.js";import"./encrypt.16bb417f.js";var Ti=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();ro(Ti);var dt=Ti,ms=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&E(r,xs);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(typeof e!="string"&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=xt(this.categories))},n}();function xs(n){return lt(n)&&n.value!=null?n.value:n+""}var Fe=ms,Zn=mt;function bs(n,e,t,r){var i={},a=n[1]-n[0],o=i.interval=ei(a/e,!0);t!=null&&o<t&&(o=i.interval=t),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=Mi(o),l=i.niceTickExtent=[Zn(Math.ceil(n[0]/o)*o,s),Zn(Math.floor(n[1]/o)*o,s)];return _s(l,n),i}function Mi(n){return ln(n)+2}function Xn(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function _s(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),Xn(n,0,e),Xn(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function me(n,e){return n>=e[0]&&n<=e[1]}function xe(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function be(n,e){return n*(e[1]-e[0])+e[0]}var Ii=function(n){k(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new Fe({})),V(i)&&(i=new Fe({categories:E(i,function(a){return lt(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return typeof t=="string"?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),me(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),xe(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(be(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(dt);dt.registerClass(Ii);var Li=Ii,Tt=mt,ki=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return me(t,this._extent)},e.prototype.normalize=function(t){return xe(t,this._extent)},e.prototype.scale=function(t){return be(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Mi(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<a[0]&&(t?s.push({value:Tt(a[0]-r,o)}):s.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(s.push({value:u}),u=Tt(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(t?s.push({value:Tt(c+r,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],h=s.value-l.value,v=h/t;u<t-1;){var f=Tt(l.value+(u+1)*v);f>a[0]&&f<a[1]&&c.push(f),u++}i.push(c)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=ln(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Tt(t.value,i,!0);return io(a)},e.prototype.niceTicks=function(t,r,i){t=t||5;var a=this._extent,o=a[1]-a[0];if(!!isFinite(o)){o<0&&(o=-o,a.reverse());var s=bs(a,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.niceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=r[0];t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=Tt(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=Tt(Math.ceil(r[1]/o)*o))},e.type="interval",e}(dt);dt.registerClass(ki);var _e=ki,ws=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},Di=function(n){k(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return ni(t.value,Pn[ao(Kt(this._minLevelUnit))]||Pn.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return oo(t,r,i,o,a)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=[];if(!r)return a;a.push({value:i[0],level:0});var o=this.getSetting("useUTC"),s=Ls(this._minLevelUnit,this._approxInterval,o,i);return a=a.concat(s),a.push({value:i[1],level:0}),a},e.prototype.niceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=nt,r[1]+=nt),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-nt}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,r,i){t=t||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=re.length,l=Math.min(ws(re,this._approxInterval,0,s),s-1);this._interval=re[l][1],this._minLevelUnit=re[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return typeof t=="number"?t:+Ve(t)},e.prototype.contain=function(t){return me(this.parse(t),this._extent)},e.prototype.normalize=function(t){return xe(this.parse(t),this._extent)},e.prototype.scale=function(t){return be(t,this._extent)},e.type="time",e}(_e),re=[["second",ri],["minute",ii],["hour",ue],["quarter-day",ue*6],["half-day",ue*12],["day",nt*1.2],["half-week",nt*3.5],["week",nt*7],["month",nt*31],["quarter",nt*95],["half-year",On/2],["year",On]];function As(n,e,t,r){var i=Ve(e),a=Ve(t),o=function(d){return Bn(i,d,r)===Bn(a,d,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},h=function(){return c()&&o("minute")},v=function(){return h()&&o("second")},f=function(){return v()&&o("millisecond")};switch(n){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return v();case"millisecond":return f()}}function Cs(n,e){return n/=nt,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Ss(n){var e=30*nt;return n/=e,n>6?6:n>3?3:n>2?2:1}function Ts(n){return n/=ue,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function Un(n,e){return n/=e?ii:ri,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function Ms(n){return ei(n,!0)}function Is(n,e,t){var r=new Date(n);switch(Kt(e)){case"year":case"month":r[ci(t)](0);case"day":r[ui(t)](1);case"hour":r[li(t)](0);case"minute":r[si(t)](0);case"second":r[ai(t)](0),r[oi(t)](0)}return r.getTime()}function Ls(n,e,t,r){var i=1e4,a=uo,o=0;function s(D,L,B,S,P,N,X){for(var Z=new Date(L),z=L,H=Z[S]();z<B&&z<=r[1];)X.push({value:z}),H+=D,Z[P](H),z=Z.getTime();X.push({value:z,notAdd:!0})}function l(D,L,B){var S=[],P=!L.length;if(!As(Kt(D),r[0],r[1],t)){P&&(L=[{value:Is(new Date(r[0]),D,t)},{value:r[1]}]);for(var N=0;N<L.length-1;N++){var X=L[N].value,Z=L[N+1].value;if(X!==Z){var z=void 0,H=void 0,I=void 0,O=!1;switch(D){case"year":z=Math.max(1,Math.round(e/nt/365)),H=yo(t),I=mo(t);break;case"half-year":case"quarter":case"month":z=Ss(e),H=go(t),I=ci(t);break;case"week":case"half-week":case"day":z=Cs(e),H=po(t),I=ui(t),O=!0;break;case"half-day":case"quarter-day":case"hour":z=Ts(e),H=vo(t),I=li(t);break;case"minute":z=Un(e,!0),H=fo(t),I=si(t);break;case"second":z=Un(e,!1),H=ho(t),I=ai(t);break;case"millisecond":z=Ms(e),H=co(t),I=oi(t);break}s(z,X,Z,H,I,O,S),D==="year"&&B.length>1&&N===0&&B.unshift({value:B[0].value-z})}}for(var N=0;N<S.length;N++)B.push(S[N]);return S}}for(var u=[],c=[],h=0,v=0,f=0;f<a.length&&o++<i;++f){var d=Kt(a[f]);if(!!so(a[f])){l(a[f],u[u.length-1]||[],c);var p=a[f+1]?Kt(a[f+1]):null;if(d!==p){if(c.length){v=h,c.sort(function(D,L){return D.value-L.value});for(var m=[],g=0;g<c.length;++g){var x=c[g].value;(g===0||c[g-1].value!==x)&&(m.push(c[g]),x>=r[0]&&x<=r[1]&&h++)}var y=(r[1]-r[0])/e;if(h>y*1.5&&v>y/1.5||(u.push(m),h>y||n===a[f]))break}c=[]}}}o>=i&&lo("Exceed safe limit.");for(var _=he(E(u,function(D){return he(D,function(L){return L.value>=r[0]&&L.value<=r[1]&&!L.notAdd})}),function(D){return D.length>0}),w=[],A=_.length-1,f=0;f<_.length;++f)for(var C=_[f],T=0;T<C.length;++T)w.push({value:C[T].value,level:A-f});w.sort(function(D,L){return D.value-L.value});for(var M=[],f=0;f<w.length;++f)(f===0||w[f].value!==w[f-1].value)&&M.push(w[f]);return M}dt.registerClass(Di);var ks=Di,$n=dt.prototype,qt=_e.prototype,Ds=mt,Ps=Math.floor,Os=Math.ceil,ie=Math.pow,$=Math.log,dn=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new _e,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,a=r.getExtent(),o=qt.getTicks.call(this,t);return E(o,function(s){var l=s.value,u=mt(ie(this.base,l));return u=l===i[0]&&this._fixMin?ae(u,a[0]):u,u=l===i[1]&&this._fixMax?ae(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var i=this.base;t=$(t)/$(i),r=$(r)/$(i),qt.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=$n.getExtent.call(this);r[0]=ie(t,r[0]),r[1]=ie(t,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=ae(r[0],a[0])),this._fixMax&&(r[1]=ae(r[1],a[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=$(t[0])/$(r),t[1]=$(t[1])/$(r),$n.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.niceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=xo(i),o=t/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[mt(Os(r[0]/a)*a),mt(Ps(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.niceExtent=function(t){qt.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=$(t)/$(this.base),me(t,this._extent)},e.prototype.normalize=function(t){return t=$(t)/$(this.base),xe(t,this._extent)},e.prototype.scale=function(t){return t=be(t,this._extent),ie(this.base,t)},e.type="log",e}(dt),Pi=dn.prototype;Pi.getMinorTicks=qt.getMinorTicks;Pi.getLabel=qt.getLabel;function ae(n,e){return Ds(n,ln(e))}dt.registerClass(dn);var Bs=dn,Rs=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);bt(a)?this._modelMinNum=oe(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=oe(e,a));var o=this._modelMaxRaw=t.get("max",!0);if(bt(o)?this._modelMaxNum=oe(e,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=oe(e,o)),i)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=V(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[Rn(l[0],1),Rn(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?i?0:NaN:t-a[0]*o),l==null&&(l=e?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN),s>l&&(s=NaN,l=NaN);var h=We(s)||We(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var v=this._determinedMin,f=this._determinedMax;return v!=null&&(s=v,u=!0),f!=null&&(l=f,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:h}},n.prototype.modifyDataMinMax=function(e,t){j(!this.frozen),this[Ns[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=Es[e];j(!this.frozen&&this[r]==null),this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),Es={min:"_determinedMin",max:"_determinedMax"},Ns={min:"_dataMin",max:"_dataMax"};function Oi(n,e,t){var r=n.rawExtentInfo;return r||(r=new Rs(n,e,t),n.rawExtentInfo=r,r)}function oe(n,e){return e==null?null:We(e)?NaN:n.parse(e)}function zs(n,e){var t=n.type,r=Oi(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,o=e.ecModel;if(o&&t==="time"){var s=wo("bar",o),l=!1;if(b(s,function(h){l=l||h.getBaseAxis()===e.axis}),l){var u=Ao(s),c=Gs(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Gs(n,e,t,r){var i=t.axis.getExtent(),a=i[1]-i[0],o=Co(r,t.axis);if(o===void 0)return{min:n,max:e};var s=1/0;b(o,function(f){s=Math.min(f.offset,s)});var l=-1/0;b(o,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-n,h=1-(s+l)/a,v=c/h-c;return e+=v*(l/u),n-=v*(s/u),{min:n,max:e}}function Kn(n,e){var t=zs(n,e),r=t.extent,i=e.get("splitNumber");n instanceof Bs&&(n.base=e.get("logBase"));var a=n.type;n.setExtent(r[0],r[1]),n.niceExtent({splitNumber:i,fixMin:t.fixMin,fixMax:t.fixMax,minInterval:a==="interval"||a==="time"?e.get("minInterval"):null,maxInterval:a==="interval"||a==="time"?e.get("maxInterval"):null});var o=e.get("interval");o!=null&&n.setInterval&&n.setInterval(o)}function Hs(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Li({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new ks({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(dt.getClass(e)||_e)}}function Vs(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function ee(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,a){return n.scale.getFormattedLabel(i,a,r)}}(e):typeof e=="string"?function(r){return function(i){var a=n.scale.getLabel(i),o=r.replace("{value}",a!=null?a:"");return o}}(e):typeof e=="function"?function(r){return function(i,a){return t!=null&&(a=i.value-t),r(pn(n,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function pn(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function Ws(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,a=t.getExtent();t instanceof Li?i=t.count():(r=t.getTicks(),i=r.length);var o=n.getLabelModel(),s=ee(n),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var h=r?r[c]:{value:a[0]+c},v=s(h,c),f=o.getTextRect(v),d=Fs(f,o.get("rotate")||0);l?l.union(d):l=d}return l}}function Fs(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),s=new un(n.x,n.y,a,o);return s}function gn(n){var e=n.get("interval");return e==null?"auto":e}function Bi(n){return n.type==="category"&&gn(n.getLabelModel())===0}function Ri(n,e){var t={};return b(n.mapDimensionsAll(e),function(r){t[bo(n,r)]=!0}),_o(t)}function Ys(n,e,t){e&&b(Ri(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}var Zs=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}(),Qt=Ft();function Xs(n){return n.type==="category"?$s(n):qs(n)}function Us(n,e){return n.type==="category"?Ks(n,e):{ticks:E(n.scale.getTicks(),function(t){return t.value})}}function $s(n){var e=n.getLabelModel(),t=Ei(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Ei(n,e){var t=Ni(n,"labels"),r=gn(e),i=zi(t,r);if(i)return i;var a,o;return bt(r)?a=Vi(n,r):(o=r==="auto"?js(n):r,a=Hi(n,o)),Gi(t,r,{labels:a,labelCategoryInterval:o})}function Ks(n,e){var t=Ni(n,"ticks"),r=gn(e),i=zi(t,r);if(i)return i;var a,o;if((!e.get("show")||n.scale.isBlank())&&(a=[]),bt(r))a=Vi(n,r,!0);else if(r==="auto"){var s=Ei(n,n.getLabelModel());o=s.labelCategoryInterval,a=E(s.labels,function(l){return l.tickValue})}else o=r,a=Hi(n,o,!0);return Gi(t,r,{ticks:a,tickCategoryInterval:o})}function qs(n){var e=n.scale.getTicks(),t=ee(n);return{labels:E(e,function(r,i){return{formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function Ni(n,e){return Qt(n)[e]||(Qt(n)[e]=[])}function zi(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Gi(n,e,t){return n.push({key:e,value:t}),t}function js(n){var e=Qt(n).autoInterval;return e!=null?e:Qt(n).autoInterval=n.calculateCategoryInterval()}function Qs(n){var e=Js(n),t=ee(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=n.dataToCoord(l+1)-n.dataToCoord(l),c=Math.abs(u*Math.cos(r)),h=Math.abs(u*Math.sin(r)),v=0,f=0;l<=a[1];l+=s){var d=0,p=0,m=cn(t({value:l}),e.font,"center","top");d=m.width*1.3,p=m.height*1.3,v=Math.max(v,d,7),f=Math.max(f,p,7)}var g=v/c,x=f/h;isNaN(g)&&(g=1/0),isNaN(x)&&(x=1/0);var y=Math.max(0,Math.floor(Math.min(g,x))),_=Qt(n.model),w=n.getExtent(),A=_.lastAutoInterval,C=_.lastTickCount;return A!=null&&C!=null&&Math.abs(A-y)<=1&&Math.abs(C-o)<=1&&A>y&&_.axisExtent0===w[0]&&_.axisExtent1===w[1]?y=A:(_.lastTickCount=o,_.lastAutoInterval=y,_.axisExtent0=w[0],_.axisExtent1=w[1]),y}function Js(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Hi(n,e,t){var r=ee(n),i=n.scale,a=i.getExtent(),o=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=Bi(n),v=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;v&&u!==a[0]&&p(a[0]);for(var d=u;d<=a[1];d+=l)p(d);f&&d-l!==a[1]&&p(a[1]);function p(m){var g={value:m};s.push(t?m:{formattedLabel:r(g),rawLabel:i.getLabel(g),tickValue:m})}return s}function Vi(n,e,t){var r=n.scale,i=ee(n),a=[];return b(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&a.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var qn=[0,1],tl=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return hi(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),jn(r,i.count())),Mt(e,qn,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),jn(r,i.count()));var a=Mt(e,r,qn,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=Us(this,t),i=r.ticks,a=E(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return el(this,a,o,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=E(r,function(a){return E(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},n.prototype.getViewLabels=function(){return Xs(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return Qs(this)},n}();function jn(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function el(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;b(e,function(f){f.coord-=u/2});var c=n.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s},e.push(o)}var h=a[0]>a[1];v(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&v(a[0],e[0].coord)&&e.unshift({coord:a[0]}),v(a[1],o.coord)&&(r?o.coord=a[1]:e.pop()),r&&v(o.coord,a[1])&&e.push({coord:a[1]});function v(f,d){return f=mt(f),d=mt(d),h?f>d:f<d}}var nl=tl,rl=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(At),il=rl,Ye=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",_t).models[0]},e.type="cartesian2dAxis",e}(At);So(Ye,Zs);var Wi={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},al=W({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wi),yn=W({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Wi),ol=W({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},yn),sl=Y({scale:!0,logBase:10},yn),ll={category:al,value:yn,time:ol,log:sl},ul={value:1,category:1,time:1,log:1};function Qn(n,e,t,r){b(ul,function(i,a){var o=W(W({},ll[a],!0),r,!0),s=function(l){k(u,l);function u(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var v=l.apply(this,c)||this;return v.type=e+"Axis."+a,v}return u.prototype.mergeDefaultAndTheme=function(c,h){var v=To(this),f=v?fi(c):{},d=h.getTheme();W(c,d.get(a+"Axis")),W(c,this.getDefaultOption()),c.type=Jn(c),v&&vi(c,f,v)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Fe.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=o,u}(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",Jn)}function Jn(n){return n.type||(n.data?"category":"value")}var cl=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return E(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),he(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),hl=cl,Ze=["x","y"];function tr(n){return n.type==="interval"||n.type==="time"}var fl=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Ze,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!tr(t)||!tr(r))){var i=t.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,h=(s[1]-o[1])/u,v=o[0]-i[0]*c,f=o[1]-a[0]*h,d=this._transform=[c,0,0,h,v,f];this._invTransform=Mo([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return zt(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return zt(i,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),a=Math.min(r[0],r[1]),o=Math.max(t[0],t[1])-i,s=Math.max(r[0],r[1])-a;return new un(i,a,o,s)},e}(hl),vl=function(n){k(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(nl),dl=vl;function Xe(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],v={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d=u==="x"?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[v.onZero]=Math.max(Math.min(p,d[1]),d[0])}a.position=[u==="y"?d[v[l]]:h[0],u==="x"?d[v[l]]:h[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?d[v[s]]-d[v.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),jt(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-g:g,a.z2=1,a}function er(n){return n.get("coordinateSystem")==="cartesian2d"}function nr(n){var e={xAxisModel:null,yAxisModel:null};return b(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,_t).models[0];if(!a)throw new Error(i+' "'+di(n.get(i+"Index"),n.get(i+"Id"),0)+'" not found');e[r]=a}),e}var pl=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ze,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model),b(r.x,function(a){Kn(a.scale,a.model)}),b(r.y,function(a){Kn(a.scale,a.model)});var i={};b(r.x,function(a){rr(r,"y",a,i)}),b(r.y,function(a){rr(r,"x",a,i)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),o=Gt(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),a&&(b(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Ws(u);if(c){var h=u.isHorizontal()?"height":"width",v=u.model.get(["axisLabel","margin"]);o[h]-=c[h]+v,u.position==="top"?o.y+=c.height+v:u.position==="left"&&(o.x+=c.width+v)}}}),l()),b(this._coordsList,function(u){u.calcAffineTransform()});function l(){b(s,function(u){var c=u.isHorizontal(),h=c?[0,o.width]:[0,o.height],v=u.inverse?1:0;u.setExtent(h[v],h[1-v]),gl(u,c?o.x:o.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}lt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",_t).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",_t).models[0],a=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,Q(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,b(s.x,function(c,h){b(s.y,function(v,f){var d="x"+h+"y"+f,p=new fl(d);p.master=i,p.model=e,i._coordsMap[d]=p,i._coordsList.push(p),p.addAxis(c),p.addAxis(v)})});function u(c){return function(h,v){if(!!De(h,e)){var f=h.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var d=new dl(c,Hs(h),[0,0],h.get("type"),f),p=d.type==="category";d.onBand=p&&h.get("boundaryGap"),d.inverse=h.get("inverse"),h.axis=d,d.model=h,d.grid=a,d.index=v,a._axesList.push(d),s[c][v]=d,l[c]++}}}},n.prototype._updateScale=function(e,t){b(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(er(i)){var a=nr(i),o=a.xAxisModel,s=a.yAxisModel;if(!De(o,t)||!De(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),h=l.getAxis("y");u.type==="list"&&(r(u,c),r(u,h))}},this);function r(i,a){b(Ri(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return b(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Q(t,a)<0&&t.push(a),Q(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var o=new n(i,e,t);o.name="grid_"+a,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){if(!!er(i)){var a=nr(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel();{if(!l)throw new Error('Grid "'+di(o.get("gridIndex"),o.get("gridId"),0)+'" not found');if(o.getCoordSysModel()!==s.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},n.dimensions=Ze,n}();function De(n,e){return n.getCoordSysModel()===e}function rr(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)ir(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&ir(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function ir(n){return n&&n.type!=="category"&&n.type!=="time"&&Vs(n)}function gl(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var yl=pl,yt=Math.PI,Lt=function(){function n(e,t){this.group=new ft,this.opt=t,this.axisModel=e,Y(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new ft({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!ar[e]},n.prototype.add=function(e){ar[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=yi(t-e),a,o;return ve(i)?(o=r>0?"top":"bottom",a="center"):ve(i-yt)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<yt?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),ar={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0];o&&(zt(s,s,o),zt(l,l,o));var u=ge({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new fe({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",t.add(c);var h=e.get(["axisLine","symbol"]),v=e.get(["axisLine","symbolSize"]),f=e.get(["axisLine","symbolOffset"])||0;if(typeof f=="number"&&(f=[f,f]),h!=null){typeof h=="string"&&(h=[h,h]),(typeof v=="string"||typeof v=="number")&&(v=[v,v]);var d=v[0],p=v[1];b([{rotate:n.rotation+Math.PI/2,offset:f[0],r:0},{rotate:n.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,g){if(h[g]!=="none"&&h[g]!=null){var x=pi(h[g],-d/2,-p/2,d,p,u.stroke,!0),y=m.r+m.offset;x.attr({rotation:m.rotate,x:s[0]+y*Math.cos(n.rotation),y:s[1]-y*Math.sin(n.rotation),silent:!0,z2:11}),t.add(x)}})}}},axisTickLabel:function(n,e,t,r){var i=bl(t,r,e,n),a=wl(t,r,e,n);xl(e,a,i),_l(t,r,e,n.tickDirection)},axisName:function(n,e,t,r){var i=jt(n.axisName,e.get("name"));if(!!i){var a=e.get("nameLocation"),o=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,h=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,sr(a)?n.labelOffset+o*l:0],v,f=e.get("nameRotate");f!=null&&(f=f*yt/180);var d;sr(a)?v=Lt.innerTextLayout(n.rotation,f!=null?f:n.rotation,o):(v=ml(n.rotation,a,f||0,u),d=n.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(v.rotation)),!isFinite(d)&&(d=null)));var p=s.getFont(),m=e.get("nameTruncate",!0)||{},g=m.ellipsis,x=jt(n.nameTruncateMaxWidth,m.maxWidth,d),y=new rt({x:h[0],y:h[1],rotation:v.rotation,silent:Lt.isLabelSilent(e),style:Ht(s,{text:i,font:p,overflow:"truncate",width:x,ellipsis:g,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||v.textAlign,verticalAlign:s.get("verticalAlign")||v.textVerticalAlign}),z2:1});if(hn({el:y,componentModel:e,itemName:i}),y.__fullText=i,y.anid="name",e.get("triggerEvent")){var _=Lt.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,ot(y).eventData=_}r.add(y),y.updateTransform(),t.add(y),y.decomposeTransform()}}};function ml(n,e,t,r){var i=yi(t-n),a,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return ve(i-yt/2)?(o=l?"bottom":"top",a="center"):ve(i-yt*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<yt*1.5&&i>yt/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function xl(n,e,t){if(!Bi(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],h=t[t.length-1],v=t[t.length-2];r===!1?(K(a),K(u)):or(a,o)&&(r?(K(o),K(c)):(K(a),K(u))),i===!1?(K(s),K(h)):or(l,s)&&(i?(K(l),K(v)):(K(s),K(h)))}}function K(n){n&&(n.ignore=!0)}function or(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=Io([]);return gi(i,i,-n.rotation),t.applyTransform(En([],i,n.getLocalTransform())),r.applyTransform(En([],i,e.getLocalTransform())),t.intersect(r)}}function sr(n){return n==="middle"||n==="center"}function Fi(n,e,t,r,i){for(var a=[],o=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(zt(o,o,e),zt(s,s,e));var c=new fe({subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});c.anid=i+"_"+n[l].tickValue,a.push(c)}return a}function bl(n,e,t,r){var i=t.axis,a=t.getModel("axisTick"),o=a.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),c=Fi(u,e.transform,l,Y(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)n.add(c[h]);return c}}function _l(n,e,t,r){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(!!o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),u=Y(s.getLineStyle(),Y(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=Fi(o[c],e.transform,l,u,"minorticks_"+c),v=0;v<h.length;v++)n.add(h[v])}}function wl(n,e,t,r){var i=t.axis,a=jt(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(jt(r.labelRotate,o.get("rotate"))||0)*yt/180,c=Lt.innerTextLayout(r.rotation,u,r.labelDirection),h=t.getCategories&&t.getCategories(!0),v=[],f=Lt.isLabelSilent(t),d=t.get("triggerEvent");return b(l,function(p,m){var g=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,x=p.formattedLabel,y=p.rawLabel,_=o;if(h&&h[g]){var w=h[g];lt(w)&&w.textStyle&&(_=new gt(w.textStyle,o,t.ecModel))}var A=_.getTextColor()||t.get(["axisLine","lineStyle","color"]),C=i.dataToCoord(g),T=new rt({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:f,z2:10,style:Ht(_,{text:x,align:_.getShallow("align",!0)||c.textAlign,verticalAlign:_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||c.textVerticalAlign,fill:typeof A=="function"?A(i.type==="category"?y:i.type==="value"?g+"":g,m):A})});if(T.anid="label_"+g,d){var M=Lt.makeAxisEventDataBase(t);M.targetType="axisLabel",M.value=y,ot(T).eventData=M}e.add(T),T.updateTransform(),v.push(T),n.add(T),T.decomposeTransform()}),v}}var Yi=Lt;function Al(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Cl(t,n,e),t.seriesInvolved&&Tl(t,n),t}function Cl(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];b(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Jt(s.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var c=s.model,h=c.getModel("tooltip",r);if(b(s.getAxes(),R(p,!1,null)),s.getTooltipAxes&&r&&h.get("show")){var v=h.get("trigger")==="axis",f=h.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(h.get(["axisPointer","axis"]));(v||f)&&b(d.baseAxes,R(p,f?"cross":!0,v)),f&&b(d.otherAxes,R(p,"cross",!1))}function p(m,g,x){var y=x.model.getModel("axisPointer",i),_=y.get("show");if(!(!_||_==="auto"&&!m&&!Ue(y))){g==null&&(g=y.get("triggerTooltip")),y=m?Sl(x,h,i,e,m,g):y;var w=y.get("snap"),A=Jt(x.model),C=g||w||x.type==="category",T=n.axesInfo[A]={key:A,axis:x,coordSys:s,axisPointerModel:y,triggerTooltip:g,involveSeries:C,snap:w,useHandle:Ue(y),seriesModels:[],linkGroup:null};u[A]=T,n.seriesInvolved=n.seriesInvolved||C;var M=Ml(a,x);if(M!=null){var D=o[M]||(o[M]={axesInfo:{}});D.axesInfo[A]=T,D.mapper=a[M].mapper,T.linkGroup=D}}}})}function Sl(n,e,t,r,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};b(s,function(v){l[v]=J(o.get(v))}),l.snap=n.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c!=null?c:!0,!a){var h=l.lineStyle=o.get("crossStyle");h&&Y(u,h.textStyle)}}return n.model.getModel("axisPointer",new gt(l,t,r))}function Tl(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||b(n.coordSysAxesInfo[Jt(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Ml(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(Pe(a[r+"AxisId"],t.id)||Pe(a[r+"AxisIndex"],t.componentIndex)||Pe(a[r+"AxisName"],t.name))return i}}function Pe(n,e){return n==="all"||V(n)&&Q(n,e)>=0||n===e}function Il(n){var e=mn(n);if(!!e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=Ue(t);a==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function mn(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Jt(n)]}function Ll(n){var e=mn(n);return e&&e.axisPointerModel}function Ue(n){return!!n.get(["handle","show"])}function Jt(n){return n.type+"||"+n.id}var Oe={},kl=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&Il(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(!!a){var o=Ll(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){if(Oe[t])throw new Error("axisPointer "+t+" exists");Oe[t]=r},e.getAxisPointerClass=function(t){return t&&Oe[t]},e.type="axis",e}(Ct),Zi=kl,$e=Ft();function Dl(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(!!u.length){var c=s.length,h=$e(n).splitAreaColors,v=xt(),f=0;if(h)for(var d=0;d<u.length;d++){var p=h.get(u[d].tickValue);if(p!=null){f=(p+(c-1)*d)%c;break}}var m=i.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=V(s)?s:[s];for(var d=1;d<u.length;d++){var x=i.toGlobalCoord(u[d].coord),y=void 0,_=void 0,w=void 0,A=void 0;i.isHorizontal()?(y=m,_=l.y,w=x-y,A=l.height,m=y+w):(y=l.x,_=m,w=l.width,A=x-_,m=_+A);var C=u[d-1].tickValue;C!=null&&v.set(C,f),e.add(new vt({anid:C!=null?"area_"+C:null,shape:{x:y,y:_,width:w,height:A},style:Y({fill:s[f]},g),autoBatch:!0,silent:!0})),f=(f+1)%c}$e(n).splitAreaColors=v}}}function Pl(n){$e(n).splitAreaColors=null}var Ol=["axisLine","axisTickLabel","axisName"],Bl=["splitArea","splitLine","minorSplitLine"],Xi=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ft,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=Xe(s,t),u=new Yi(t,ge({handleAutoShown:function(c){for(var h=s.coordinateSystem.getCartesians(),v=0;v<h.length;v++){var f=h[v].getOtherAxis(t.axis).type;if(f==="value"||f==="log")return!0}return!1}},l));b(Ol,u.add,u),this._axisGroup.add(u.getGroup()),b(Bl,function(c){t.get([c,"show"])&&Rl[c](this,this._axisGroup,t,s)},this),Lo(o,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){Pl(this)},e.type="cartesianAxis",e}(Zi),Rl={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=V(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:a}),v=[],f=[],d=o.getLineStyle(),p=0;p<h.length;p++){var m=i.toGlobalCoord(h[p].coord);u?(v[0]=m,v[1]=l.y,f[0]=m,f[1]=l.y+l.height):(v[0]=l.x,v[1]=m,f[0]=l.x+l.width,f[1]=m);var g=c++%s.length,x=h[p].tickValue;e.add(new fe({anid:x!=null?"line_"+h[p].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:f[0],y2:f[1]},style:Y({stroke:s[g]},d),silent:!0}))}}},minorSplitLine:function(n,e,t,r){var i=t.axis,a=t.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(!!u.length)for(var c=[],h=[],v=o.getLineStyle(),f=0;f<u.length;f++)for(var d=0;d<u[f].length;d++){var p=i.toGlobalCoord(u[f][d].coord);l?(c[0]=p,c[1]=s.y,h[0]=p,h[1]=s.y+s.height):(c[0]=s.x,c[1]=p,h[0]=s.x+s.width,h[1]=p),e.add(new fe({anid:"minor_line_"+u[f][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:v,silent:!0}))}},splitArea:function(n,e,t,r){Dl(n,e,t,r)}},Ui=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Xi),El=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Ui.type,t}return e.type="yAxis",e}(Xi),Nl=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new vt({shape:t.coordinateSystem.getRect(),style:Y({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Ct),lr={offset:0};function zl(n){n.registerComponentView(Nl),n.registerComponentModel(il),n.registerCoordinateSystem("cartesian2d",yl),Qn(n,"x",Ye,lr),Qn(n,"y",Ye,lr),n.registerComponentView(Ui),n.registerComponentView(El),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var ur="\0_ec_interaction_mutex";function Gl(n,e,t){var r=$i(n);r[e]=t}function Hl(n,e,t){var r=$i(n),i=r[e];i===t&&(r[e]=null)}function $i(n){return n[ur]||(n[ur]={})}ye({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var Vl={axisPointer:1,tooltip:1,brush:1};function Wl(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!Vl.hasOwnProperty(r.mainType)&&i&&i.model!==t}function Ki(n,e,t,r,i,a){n=n||0;var o=t[1]-t[0];if(i!=null&&(i=Ot(i,[0,o])),a!=null&&(a=Math.max(a,i!=null?i:0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=Ot(s,[0,o]),i=a=Ot(s,[i,a]),r=0}e[0]=Ot(e[0],t),e[1]=Ot(e[1],t);var l=Be(e,r);e[r]+=n;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=Ot(e[r],c);var h;return h=Be(e,r),i!=null&&(h.sign!==l.sign||h.span<i)&&(e[1-r]=e[r]+l.sign*i),h=Be(e,r),a!=null&&h.span>a&&(e[1-r]=e[r]+h.sign*a),e}function Be(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Ot(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var kt=!0,te=Math.min,Vt=Math.max,Fl=Math.pow,Yl=1e4,Zl=6,Xl=6,cr="globalPan",Ul={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},$l={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},hr={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Kl=0,ql=function(n){k(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},j(t),r._zr=t,r.group=new ft,r._uid="brushController_"+Kl++,b(ru,function(i,a){this._handlers[a]=it(i,this)},r),r}return e.prototype.enableBrush=function(t){return j(this._mounted),this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||Gl(r,cr,this._uid),b(this._handlers,function(i,a){r.on(a,i)}),this._brushType=t.brushType,this._brushOption=W(J(hr),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Hl(t,cr,this._uid),b(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};b(t,function(i){r[i.panelId]=J(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._mounted=!0,this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){j(this._mounted),t=E(t,function(v){return W(J(hr),v,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new mi(i,t,u,l).add(c).update(c).remove(h).execute(),this;function l(v,f){return(v.id!=null?v.id:r+f)+"-"+v.brushType}function u(v,f){return l(v.__brushOption,f)}function c(v,f){var d=t[v];if(f!=null&&i[f]===s)a[v]=i[f];else{var p=a[v]=f!=null?(i[f].__brushOption=d,i[f]):ji(o,qi(o,d));xn(o,p)}}function h(v){i[v]!==s&&o.group.remove(i[v])}},e.prototype.unmount=function(){if(!!this._mounted)return this.enableBrush(!1),Ke(this),this._zr.remove(this.group),this._mounted=!1,this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(ko);function qi(n,e){var t=we[e.brushType].createCover(n,e);return t.__brushOption=e,Ji(t,e),n.group.add(t),t}function ji(n,e){var t=bn(e);return t.endCreating&&(t.endCreating(n,e),Ji(e,e.__brushOption)),e}function Qi(n,e){var t=e.__brushOption;bn(e).updateCoverShape(n,e,t.range,t)}function Ji(n,e){var t=e.z;t==null&&(t=Yl),n.traverse(function(r){r.z=t,r.z2=t})}function xn(n,e){bn(e).updateCommon(n,e),Qi(n,e)}function bn(n){return we[n.__brushOption.brushType]}function _n(n,e,t){var r=n._panels;if(!r)return kt;var i,a=n._transform;return b(r,function(o){o.isTargetByCursor(e,t,a)&&(i=o)}),i}function ta(n,e){var t=n._panels;if(!t)return kt;var r=e.__brushOption.panelId;return r!=null?t[r]:kt}function Ke(n){var e=n._covers,t=e.length;return b(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function Dt(n,e){var t=E(n._covers,function(r){var i=r.__brushOption,a=J(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function jl(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],a=t[1]-r[1],o=Fl(i*i+a*a,.5);return o>Zl}function ea(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function na(n,e,t,r){var i=new ft;return i.add(new vt({name:"main",style:wn(t),silent:!0,draggable:!0,cursor:"move",drift:R(fr,n,e,i,["n","s","w","e"]),ondragend:R(Dt,e,{isEnd:!0})})),b(r,function(a){i.add(new vt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:R(fr,n,e,i,a),ondragend:R(Dt,e,{isEnd:!0})}))}),i}function ra(n,e,t,r){var i=r.brushStyle.lineWidth||0,a=Vt(i,Xl),o=t[0][0],s=t[1][0],l=o-i/2,u=s-i/2,c=t[0][1],h=t[1][1],v=c-a+i/2,f=h-a+i/2,d=c-o,p=h-s,m=d+i,g=p+i;ct(n,e,"main",o,s,d,p),r.transformable&&(ct(n,e,"w",l,u,a,g),ct(n,e,"e",v,u,a,g),ct(n,e,"n",l,u,m,a),ct(n,e,"s",l,f,m,a),ct(n,e,"nw",l,u,a,a),ct(n,e,"ne",v,u,a,a),ct(n,e,"sw",l,f,a,a),ct(n,e,"se",v,f,a,a))}function qe(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(wn(t)),i.attr({silent:!r,cursor:r?"move":"default"}),b([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?je(n,a[0]):Jl(n,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?$l[s]+"-resize":null})})}function ct(n,e,t,r,i,a,o){var s=e.childOfName(t);s&&s.setShape(eu(An(n,e,[[r,i],[r+a,i+o]])))}function wn(n){return Y({strokeNoScale:!0},n.brushStyle)}function ia(n,e,t,r){var i=[te(n,t),te(e,r)],a=[Vt(n,t),Vt(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function Ql(n){return xi(n.group)}function je(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=Oo(t[e],Ql(n));return r[i]}function Jl(n,e){var t=[je(n,e[0]),je(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function fr(n,e,t,r,i,a){var o=t.__brushOption,s=n.toRectRange(o.range),l=aa(e,i,a);b(r,function(u){var c=Ul[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=n.fromRectRange(ia(s[0][0],s[1][0],s[0][1],s[1][1])),xn(e,t),Dt(e,{isEnd:!1})}function tu(n,e,t,r){var i=e.__brushOption.range,a=aa(n,t,r);b(i,function(o){o[0]+=a[0],o[1]+=a[1]}),xn(n,e),Dt(n,{isEnd:!1})}function aa(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function An(n,e,t){var r=ta(n,e);return r&&r!==kt?r.clipPath(t,n._transform):J(t)}function eu(n){var e=te(n[0][0],n[1][0]),t=te(n[0][1],n[1][1]),r=Vt(n[0][0],n[1][0]),i=Vt(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function nu(n,e,t){if(!(!n._brushType||iu(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,a=_n(n,e,t);if(!n._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===kt||s.panelId===a.panelId)&&we[s.brushType].contain(i[o],t[0],t[1]))return}a&&r.setCursorStyle("crosshair")}}function Qe(n){var e=n.event;e.preventDefault&&e.preventDefault()}function Je(n,e,t){return n.childOfName("main").contain(e,t)}function oa(n,e,t,r){var i=n._creatingCover,a=n._creatingPanel,o=n._brushOption,s;if(n._track.push(t.slice()),jl(n)||i){if(a&&!i){o.brushMode==="single"&&Ke(n);var l=J(o);l.brushType=vr(l.brushType,a),l.panelId=a===kt?null:a.panelId,i=n._creatingCover=qi(n,l),n._covers.push(i)}if(i){var u=we[vr(n._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(An(n,i,n._track)),r&&(ji(n,i),u.updateCommon(n,i)),Qi(n,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&_n(n,e,t)&&Ke(n)&&(s={isEnd:r,removeOnClick:!0});return s}function vr(n,e){return n==="auto"?(j(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),e.defaultBrushType):n}var ru={mousedown:function(n){if(this._dragging)dr(this,n);else if(!n.target||!n.target.draggable){Qe(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=_n(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(nu(this,n,r),this._dragging){Qe(n);var i=oa(this,n,r,!1);i&&Dt(this,i)}},mouseup:function(n){dr(this,n)}};function dr(n,e){if(n._dragging){Qe(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),a=oa(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Dt(n,a)}}function iu(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var we={lineX:pr(0),lineY:pr(1),rect:{createCover:function(n,e){function t(r){return r}return na({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=ea(n);return ia(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){ra(n,e,t,r)},updateCommon:qe,contain:Je},polygon:{createCover:function(n,e){var t=new ft;return t.add(new Do({name:"main",style:wn(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Po({name:"main",draggable:!0,drift:R(tu,n,e),ondragend:R(Dt,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:An(n,e,t)})},updateCommon:qe,contain:Je}};function pr(n){return{createCover:function(e,t){return na({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=ea(e),r=te(t[0][n],t[1][n]),i=Vt(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var a,o=ta(e,t);if(o!==kt&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(n);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[r,a];n&&l.reverse(),ra(e,t,l,i)},updateCommon:qe,contain:Je}}var au=ql;function ou(n){return n=Cn(n),function(e){return Bo(e,n)}}function su(n,e){return n=Cn(n),function(t){var r=e!=null?e:t,i=r?n.width:n.height,a=r?n.x:n.y;return[a,a+(i||0)]}}function lu(n,e,t){var r=Cn(n);return function(i,a){return r.contain(a[0],a[1])&&!Wl(i,e,t)}}function Cn(n){return un.create(n)}function gr(n){const e=[];for(let t=0;t<n.length;t++)e.push(Ro(n[t]).format("HH:mm"));return e}function yr(n,e,t,r){if(n.length<=r||n.length!=e.length||n.length!=t.length||r<7)return[n,e,t];const i=[],a=[],o=[],s=n.length,l=Math.floor(s/r);i.push(n[0]),a.push(e[0]),o.push(t[0]);for(let u=1;u<=r-2;u++)i.push(n[u*l-1]),a.push(e[u*l-1]),o.push(t[u*l-1]);return i.push(n[n.length-1]),a.push(e[e.length-1]),o.push(t[t.length-1]),[i,a,o]}function mr({dateTime:n=[],seriesDatax:e=[],seriesDatay:t=[],placeholderColor:r,borderColor:i}){if(n.length!==e.length)return null;const a=n;var o=Eo();return{color:o,tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"20px",bottom:"36px",containLabel:!0},xAxis:{type:"category",data:a,boundaryGap:!1,axisLabel:{color:r},axisLine:{lineStyle:{color:i,width:1}}},yAxis:[{type:"value",axisLabel:{color:r,formatter:function(s,l){return no(s)},showMinLabel:!1,showMaxLabel:!1},splitLine:{lineStyle:{color:i}},min:function(s){let u=(s.max-s.min)/s.min;return u>1&&(u=1),s.min*(1-u*.2)},max:function(s){let u=(s.max-s.min)/s.min;return u>1&&(u=1),s.max*(1+u*.2)}},{type:"value",axisLabel:{color:r,showMinLabel:!1,showMaxLabel:!1,formatter:function(s,l){return Math.round(s)}},splitLine:{lineStyle:{color:"transparent",width:0},length:0}}],legend:{data:["Price","Transactions"],icon:"circle",bottom:"0",itemGap:48,itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:r}},series:[{name:"Price",data:e,type:"line",smooth:!0,color:o[o.length-2],showSymbol:!0,symbol:"circle",symbolSize:8,areaStyle:{opacity:.1},yAxisIndex:0},{name:"Transactions",data:t,type:"line",smooth:!0,showSymbol:!0,symbol:"circle",symbolSize:8,color:o[0],yAxisIndex:1}]}}const uu={address:{name:"Pool Address",value:"NA",href:null},price:{name:"Price",value:"NA",href:null},token0:{name:"Token0",value:"NA",href:null},priceChangeIn1h:{name:"Price Change(1h)",value:"NA",href:null},token1:{name:"Token1",value:"NA",href:null},priceChangeIn24h:{name:"Price Change(24h)",value:"NA",href:null},firstAddTxHash:{name:"First Liquidity Tx",value:"NA",href:null},txNumIn1h:{name:"Txs Num(1h)",value:"NA",href:null},volumeByUsdIn1h:{name:"USD Volume(1h)",value:"NA",href:null},txNumIn24h:{name:"Txs Num(24h)",value:"NA",href:null},volumeByUsdIn24h:{name:"USD Volume(24h)",value:"NA",href:null},txNumChangeIn1h:{name:"TxNum Change(1h)",value:"NA",href:null},liquidityInUsd:{name:"Liquidity Value",value:"NA",href:null},txNumChangeIn24h:{name:"TxNum Change(24h)",value:"NA",href:null},firstAddPoolTime:{name:"Born At",value:"NA",href:null}},cu=[{title:"Pair Name",fixed:"left",width:180,ellipsis:!0,align:"left",colKey:"pairName"},{title:"Price",width:100,ellipsis:!0,colKey:"price"},{title:"Direction",colKey:"direction",width:100},{title:"Trader",align:"left",fixed:"right",width:150,colKey:"trader"},{title:"USD Value",width:100,ellipsis:!0,sorter:!0,colKey:"volumeInUsd"},{title:"TxHash",width:150,ellipsis:!0,colKey:"txHash"},{title:"Swap Time",width:150,ellipsis:!0,colKey:"swapTime"}];var hu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAH2klEQVR4nO2aW2/b5hnHBXTNhl2s+QDNwY7rOD7ElnWybEmUSFnWiWRkWbGkBdgX2HpVhEWLtkFbtNjtgKT7CmuH7ABswJAB22WSAbtI0F0uxWCJOvEgUVvqAPY7kDR1iHXiQRIlvX/gf5WLEL/np5d8H9higYGBgYGBgYGBgYGBgYGBgYGBgYGB0RCQSl2oEVmfQGbuCWTmYZ3I/qtOZFkBT78S8MxxHU9XavHDZ0I8/XUNP/ygGs+4AYL8YNSwxf+zGiC3eZT4kA/g3/Ao8Zz14xXWjx+z/vgx68dZDol/y/rjDzkkdo/1xbxgOXXBYtbUE3fW60T2QZ3MsnUyCxolMo0KuNi03LjYQ7nRw4oQPfzqv5G0fdjPyWNxB4cRv+YCBMOjJOBRQioXEIvL9SuNAw5plvHFGMYbu8968JsWs0RI3FkViOwfBTJ72g28DD/dGX5M7G2ptehtUI2kHgnhJGb0c/IYEeRR4q88JkJ/HTzREzyHxADra5bxRk8ZT+T3FU942TKugHD4hwKR+aVAZF61gR/U+th5+LVoSm4kBWrh1GM+lHLqfc5qMLHFoeTTJnjyPPiu8NvBs95os54IYDyRV4wn/MXIj6aX+J05gcz+Y2DwfayvKfAjSg9ALXwAqnvJk+pe8j5HkhfVPiOHkBc5jPyKQ4kTI6x/Hb40gB2xYbFPWHf0imUUqZPZDYHM0r3hp7VZH2nCV1rdSwI+lMzze/vBQZ+RRxO7HEbSw7C+CV8CD5htsXuAcYfyrCt8cwQv2gw3TOtrjSYl+Er53cRJNbT/KUil3uj2fOK/cSj5mVbr28D7WsFHz4OX4O+dwZcGACpbIW5oQ3hJHl4ViExej/Vt4LvCT7aBr4b2m93dB9Vg4i+VcPgnrz8fG0y9xaPko8HAa7B+p5P1MnipW+IAdkHFuZtjbcHLhn/bC2TmqaqXrAbrq3u94Cca5YOJZxUk8bbyfEyIvCR+xw/degV8K3wJ/Bl8l9yyA3sMbLY3DRuAQGa/HKv1u63wb8nFbv2bDexf4RDyKo8RL8Zq/Rn4iisIKk65ZTv2uSHwa8RPl6VPzZFYv9/L+lb4QLJdAt8Jfu8LlaaXbE/rm+ArTgxUHBgoOdDjsg1Z0m8/nvmDlgvVefBqrE90tr4N/pjP+g7Wi+DFlh0oKNtRULIFHuqDT2bXBCJzai7rybZPSzNZXxZrl+HLA/CfMI7AiuYB1In0/XFYzwf1WK/rQnUevErrpdoCzW76f6X9ywfPMEZeqDqCD3V5yZrG+l1V1reAl1qy+suavohq8Qwyy9ZX9FmvwAclKwKK6/4dDQNIf2Im67lhrhGMtl6Cj8jdEOv9SPUAhNjh74xaI6h+yWJ6L1TdrA9rtL4F/IDWy/B9ctd9v9UygG/VX6hmxfrAANY34IPSuue5lgEwk2V91JA1wsDHzRn8UnfrQWndK7W45i2pHkAtevt4aGuEiblQYSqOG6QFvAy/eFOsBxTXdr5XPYBq9Pb3Q79QYWawXs1LNjDAcaOAV+B7QHHV8z8NAzj4D7Q+oML6s+OmFbzUHVBc3flO9QBq4dSfZ3mNUNZrvWS+BB8UVtx/Uv8L2Eu9O/oLFT7W5ZnB1std2Qb08s7PVQ+ADaYuV8MHp9B6RIX1LeBXt0FBhL+yfXq0Yr+kegDyr2D/75O4RmBMYL0Iv7DiBoUb7r9ZtIYPJcLTfaFCVV6oBrNe6rJbanFlO6R5ANKvYHf/6awtz0rdLlSDWn8Gv7DkeqILvvQrCCbt0p+EQOvBoNaLpW9snRSWnFu6ByD/ChIPRnah8ppieabd+htbSu9bjApAfvYjPnjrn7OzPPM2wauwXoFPLzmf5Wy2H1uMDB/CF3iU5Cd2ebbZYXmm8kIlgu9jvQi/llt06/9riE7hUOKAw8jT6V+eeXocNy3W32iBv+QC+SXXaf66K2kZZvgA+YupX56teQY+bgpLMnxaHMB153uWUYTz43cn33qvRuubx40Cnr7uAvlF58cjgd82hCldnhUHsJ5uwHeOHn5zCLG7ai9U7MSsEbb7Wj9W+I0h+OQhjNd6/1DWCL2sNwV8JYwvdndqlmfL/a03FXwljCdydxqWZ4U+1tOLIny7ueC3DUH38gwb3/Ksj/Wmht86BHNY79Fovauj9fSiw/zwlTCeMDWM5VlpLNY7ZPgL9k8skxTGHaIMvVBtjsf6iYSvhHGFKGOWZ4j+5VmfNULD+hbw9DsTDF9J2RWkzLM82+r7klXATwV8JWVHkDLTGqHQx3r6Hfv0wFdSdqCU2dYIdCfrpxG+krINpYyzfkf3haqD9dMLX0nZ5qfMZb1dsR7kFzanG76SstVPmcH6fNP62YGvpGj1U6NcnnW33gby8zMGX0lx3UeN1/oZht82hPUxWH8Nwm+kuOahhrVG6Gg9hN9lCGvGLc+6Wg/h9xnCapdPSyOsv7YJz/x+KS67KQPWCJ2sh/AHDS0OQfsaoR28bD2Erzb0kos6/2mpyXqQn9+Y7U9NPUOg9VkPjq5C+PqGsOigBn/JtlpvhfANHcJin0/LFutzcxC+4aEXHFQ/63PzVgh/mMkt2Khe1kPzR5DcvO393LXN03PWz1lPclc23h/FM8x8jq5tbOfmrV8fzVlfiM3Nbfzm6IrVPfNgYGBgYGBgYGBgYGBgYGBgYGBgYGAsZs3/AbHHBbGUji9HAAAAAElFTkSuQmCC",fu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEf0lEQVR4nO2dXYgWVRjHx69KK4vuEsOkyD4wtZsMsQ+LCoKyIjBEyCCTRA2huvFiIfLWyjAwIoiICgyiuywvUtuSIvtWiQqpyLRV1zU1W39y2qd2INvOO+8585yZ8/zghWV33n3/Z37MO2fmnPNMURiGYRiGYRiGYRiGYRiGYRjGiACXA0uB54H3gG+BPuAP4BiwT37n/rYOeBi4rK7dCkyTz1xXyrcfOC4Z+0r51su204omAVwDPA38RHW+A54Fro6Qb4YI+L6LfD8Ca11bixQBRgF3AR8Rng+A+QHy3QP0Rsj3IXCn+4wiBYDZwCfEpxeYWyHf9bLTYvMxcG2cvezX0AlybhikPk7KV9kEz3zPyXvqYlDONePrsTDc2KuAL9FjJ3DFCPmuBHYp5vvCZahLxo3AQfTpB24/Tb6bgQPa4YDDwK2xZcyX7moqHHediVK+u6W7mgrHyvlCy5iXmIyylNuAm4CjpJkv7JECTJdDMFX65ZUqh9x5N5SMc4CvtVvUAlwn49wQQl7SbkmLeKFbGXNr7se3Hbcvb6gqYwzwlXYLWshnwOgqQhZoJ28x91a5Gfe5duoW82mnQuZoJ84A/xuRwAbttBmw3lfGaBnJM+Ky12sMBZgVOYgxzHQfIY+W3mDEZYWPkBcjhzCG2eAjZFvpDUZc3vcRsidyCGOYH3yEpDDalgt9PkJOaKfMiBM+Qn7XTpkRR3yE/KKdMiN+9hGyWztlRuz0EVLHLERjiO0+Qt6SjY34vOkjZE0NQYwhnvQRslA2NuKzwEfIzBqCGB3c7R2byNzdtuPuiIz9XyEiZaN22gx4w0uGCHlIO20GPNiJkItsglz0CXOTvIWIlM1xM2XNpo5kiJD7tVO3mPuqCDlDZkYYYXEzes7sWIhIeSpwGAOPq/MRhJxvI4hBcdd3F1QWIlJ6wmbKmtVdyRAhE6X+h9Ede4OsoBIpi7sMY8CiIDJKyxM22V6tzObgtVCAS20CRCXcpJFLgsooSXmkWqasWRJFRknKK9otbBCvRZVRWrf+jXZLG4CbvTMxupBStR1X/s44Pb/VXgpQCoOlWPtEG1f8Zl6tMkpSFtm4yb/GORaqyChJWWFS/pGxvEgBWwb3F48XKQE8Rr5HxqoiRYAHMltf8mf0C79AZQBTrOwWo1Jc50OxGkihzDYXH/i1cpklLWQqkSsu3DZ2AFOLJgKcBbxMe3gdOLtoMjKW8oScAJvck+pJpr57CFzR44ZOmOiPVntXG+BiYCvNYbsbmCvajCx36En8K+wk8IybLFjkAnCdPLglNfY0rksbCuA84FXSYWPXE9nagFsrIeW4NWcULtbeD0kBXAi8rSDjHXcRq93+lK9ZltRUWP8IsLJV1xaxAKYA70aUsaX13dlIR8syYCCgiAH5n3ZUdCFmaqDlddvqfGhlLueWgQoijsq9tDHa7WgdDD0qtZOHQ/Y27lGpDb71MjiCiPxufWgD3PIf1e/c4qI7tPNlCTBZurB/436erJ0ra4Bx8rhT9xqnnccwDMMwDMMoEuQUY3blEvAad3kAAAAASUVORK5CYII=";const vu={Url:"/pairtrend"};async function du(n){var e={};return e.address=n,za.get({url:vu.Url,params:e})}var It=Ft(),xr=J,Re=it,pu=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new ft,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var v=R(br,t,h);this.updatePointerEl(s,u,v),this.updateLabelEl(s,u,v,t)}wr(s,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=mn(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var o=It(e).pointerEl=new No[a.type](xr(t.pointer));e.add(o)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=It(e).labelEl=new rt(xr(t.label));e.add(a),_r(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=It(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=It(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),_r(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=fn(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){zo(u.event)},onmousedown:Re(this._onHandleDragMove,this,0,0),drift:Re(this._onHandleDragMove,this),ondragend:Re(this._onHandleDragEnd,this)}),r.add(i)),wr(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");V(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Go(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){br(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Ee(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(!!r){this._dragging=!0;var i=this.updateHandleTransform(Ee(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Ee(i)),It(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(!!e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(!!e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function br(n,e,t,r){sa(It(t).lastProp,r)||(It(t).lastProp=r,e?bi(t,r,n):(t.stopAnimation(),t.attr(r)))}function sa(n,e){if(lt(n)&&lt(e)){var t=!0;return b(e,function(r,i){t=t&&sa(n[i],r)}),!!t}else return n===e}function _r(n,e){n[e.get(["label","show"])?"show":"hide"]()}function Ee(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function wr(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}var gu=pu;function yu(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function mu(n,e,t,r,i){var a=t.get("value"),o=la(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=vn(s.get("padding")||0),u=s.getFont(),c=cn(o,u),h=i.position,v=c.width+l[1]+l[3],f=c.height+l[0]+l[2],d=i.align;d==="right"&&(h[0]-=v),d==="center"&&(h[0]-=v/2);var p=i.verticalAlign;p==="bottom"&&(h[1]-=f),p==="middle"&&(h[1]-=f/2),xu(h,v,f,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:Ht(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function xu(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function la(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),o=i.formatter;if(o){var s={value:pn(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};b(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&s.seriesData.push(h)}),st(o)?a=o.replace("{value}",a):bt(o)&&(a=o(s))}return a}function ua(n,e,t){var r=Wo();return gi(r,r,t.rotation),Ho(r,r,t.position),Vo([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function bu(n,e,t,r,i,a){var o=Yi.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),mu(e,r,i,a,{position:ua(r.axis,n,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function _u(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function wu(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}var Au=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=Ar(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var v=yu(a),f=Cu[u](s,h,c);f.style=v,t.graphicKey=f.type,t.pointer=f}var d=Xe(l.model,i);bu(r,t,d,i,a,o)},e.prototype.getHandleTransform=function(t,r,i){var a=Xe(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=ua(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Ar(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,h=[t.x,t.y];h[c]+=r[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var v=(u[1]+u[0])/2,f=[v,v];f[c]=h[c];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:f,tooltipOption:d[c]}},e}(gu);function Ar(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var Cu={line:function(n,e,t){var r=_u([e,t[0]],[e,t[1]],Cr(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:wu([e-r/2,t[0]],[r,i],Cr(n))}}};function Cr(n){return n.dim==="x"?0:1}var Su=Au,Tu=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(At),Mu=Tu,ht=Ft(),Iu=b;function ca(n,e,t){if(!G.node){var r=e.getZr();ht(r).records||(ht(r).records={}),Lu(r,e);var i=ht(r).records[n]||(ht(r).records[n]={});i.handler=t}}function Lu(n,e){if(ht(n).initialized)return;ht(n).initialized=!0,t("click",R(Sr,"click")),t("mousemove",R(Sr,"mousemove")),t("globalout",Du);function t(r,i){n.on(r,function(a){var o=Pu(e);Iu(ht(n).records,function(s){s&&i(s,a,o.dispatchAction)}),ku(o.pendings,e)})}}function ku(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function Du(n,e,t){n.handler("leave",null,t)}function Sr(n,e,t,r){e.handler(n,t,r)}function Pu(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function tn(n,e){if(!G.node){var t=e.getZr(),r=(ht(t).records||{})[n];r&&(ht(t).records[n]=null)}}var Ou=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";ca("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){tn("axisPointer",r)},e.prototype.dispose=function(t,r){tn("axisPointer",r)},e.type="axisPointer",e}(Ct),Bu=Ou;function ha(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=Fo(a,n);if(o==null||o<0||V(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,v=u.dim,f=h==="x"||h==="radius"?1:0,d=a.mapDimension(v),p=[];p[f]=a.get(d,o),p[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(a.getValues(E(l.dimensions,function(g){return a.mapDimension(g)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var Tr=Ft();function Ru(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,o=n.dispatchAction||it(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(!!s){ce(i)&&(i=ha({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=ce(i),u=a.axesInfo,c=s.axesInfo,h=r==="leave"||ce(i),v={},f={},d={list:[],map:{}},p={showPointer:R(Nu,f),showTooltip:R(zu,d)};b(s.coordSysMap,function(g,x){var y=l||g.containPoint(i);b(s.coordSysAxesInfo[x],function(_,w){var A=_.axis,C=Wu(u,_);if(!h&&y&&(!u||C)){var T=C&&C.value;T==null&&!l&&(T=A.pointToData(i)),T!=null&&Mr(_,T,p,!1,v)}})});var m={};return b(c,function(g,x){var y=g.linkGroup;y&&!f[x]&&b(y.axesInfo,function(_,w){var A=f[w];if(_!==g&&A){var C=A.value;y.mapper&&(C=g.axis.scale.parse(y.mapper(C,Ir(_),Ir(g)))),m[g.key]=C}})}),b(m,function(g,x){Mr(c[x],g,p,!0,v)}),Gu(f,c,v),Hu(d,i,n,o),Vu(c,o,t),v}}function Mr(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var o=Eu(e,n),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&ge(i,s[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,o,l)}}function Eu(n,e){var t=e.axis,r=t.dim,i=n,a=[],o=Number.MAX_VALUE,s=-1;return b(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),h,v;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(c,n,t);v=f.dataIndices,h=f.nestestValue}else{if(v=l.getData().indicesOfNearest(c[0],n,t.type==="category"?.5:null),!v.length)return;h=l.getData().get(c[0],v[0])}if(!(h==null||!isFinite(h))){var d=n-h,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,i=h,a.length=0),b(v,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function Nu(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function zu(n,e,t,r){var i=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=Jt(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Gu(n,e,t){var r=t.axesInfo=[];b(e,function(i,a){var o=i.axisPointerModel.option,s=n[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Hu(n,e,t,r){if(ce(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function Vu(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=Tr(r)[i]||{},o=Tr(r)[i]={};b(n,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&b(h.seriesDataIndices,function(v){var f=v.seriesIndex+" | "+v.dataIndex;o[f]=v})});var s=[],l=[];b(a,function(u,c){!o[c]&&l.push(u)}),b(o,function(u,c){!a[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Wu(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Ir(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ce(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function fa(n){Zi.registerAxisPointerClass("CartesianAxisPointer",Su),n.registerComponentModel(Mu),n.registerComponentView(Bu),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!V(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Al(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ru)}function Fu(n){wt(zl),wt(fa)}var Lr=["x","y","radius","angle","single"],Yu=["cartesian2d","polar","singleAxis"];function Zu(n){var e=n.get("coordinateSystem");return Q(Yu,e)>=0}function Et(n){return j(n),n+"Axis"}function Xu(n,e){var t=xt(),r=[],i=xt();n.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,n.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(v,f){var d=t.get(v);d&&d[f]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,v){(t.get(h)||t.set(h,[]))[v]=!0})}return r}var Ne=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Uu=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var a=kr(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var r=kr(t);W(this.option,t,!0),W(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;b([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=xt(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return b(Lr,function(i){var a=this.getReferringComponents(Et(i),Yo);if(!!a.specified){r=!0;var o=new Ne;b(a.models,function(s){o.add(s.componentIndex)}),t.set(i,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,a=!0;if(a){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var h=u[0];if(!!h){var v=new Ne;if(v.add(h.componentIndex),t.set(c,v),a=!1,c==="x"||c==="y"){var f=h.getReferringComponents("grid",_t).models[0];f&&b(u,function(d){h.componentIndex!==d.componentIndex&&f===d.getReferringComponents("grid",_t).models[0]&&v.add(d.componentIndex)})}}}a&&b(Lr,function(u){if(!!a){var c=i.findComponents({mainType:Et(u),filter:function(v){return v.get("type",!0)==="category"}});if(c[0]){var h=new Ne;h.add(c[0].componentIndex),t.set(u,h),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");b([["start","startValue"],["end","endValue"]],function(a,o){var s=t[a[0]]!=null,l=t[a[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(Et(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,a){b(i.indexList,function(o){t.call(r,a,o)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){j(t&&r!=null);var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(Et(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;b([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(r[a[0]]=i[a[0]]=t[a[0]],r[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;b(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return j(this._orient),this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(At);function kr(n){var e={};return b(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var $u=Uu,Ku=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}($u),qu=Ku,ju=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e}(Ct),Qu=ju,Ju=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Qu),tc=Ju,Rt=b,Dr=Zo,ec=function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Zu(t)){var r=Et(this._dimName),i=t.getReferringComponents(r,_t).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return J(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Rt(["start","end"],function(v,f){var d=e[v],p=e[v+"Value"];a[f]==="percent"?(d==null&&(d=o[f]),p=i.parse(Mt(d,o,t))):(u=!0,p=p==null?t[f]:i.parse(p),d=Mt(p,t,o)),l[f]=p,s[f]=d}),Dr(l),Dr(s);var c=this._minMaxSpan;u?h(l,s,t,o,!1):h(s,l,o,t,!0);function h(v,f,d,p,m){var g=m?"Span":"ValueSpan";Ki(0,v,d,"all",c["min"+g],c["max"+g]);for(var x=0;x<2;x++)f[x]=Mt(v[x],d,p,!0),m&&(f[x]=i.parse(f[x]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=nc(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;Rt(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);!c.length||(a==="weakFilter"?u.filterSelf(function(h){for(var v,f,d,p=0;p<c.length;p++){var m=u.get(c[p],h),g=!isNaN(m),x=m<o[0],y=m>o[1];if(g&&!x&&!y)return!0;g&&(d=!0),x&&(v=!0),y&&(f=!0)}return d&&v&&f}):Rt(c,function(h){if(a==="empty")l.setData(u=u.map(h,function(f){return s(f)?f:NaN}));else{var v={};v[h]=o,u.selectRange(v)}}),Rt(c,function(h){u.setApproximateExtent(o,h)}))});function s(l){return l>=o[0]&&l<=o[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Rt(["min","max"],function(i){var a=t.get(i+"Span"),o=t.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Mt(r[0]+o,r,[0,100],!0):a!=null&&(o=Mt(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(!!t){var i=hi(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n}();function nc(n,e,t){var r=[1/0,-1/0];Rt(t,function(o){Ys(r,o.getData(),e)});var i=n.getAxisModel(),a=Oi(i.axis.scale,i,r).calculate();return[a.min,a.max]}var rc=ec,ic={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=n.getComponent(Et(o),s);i(o,s,l,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var t=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new rc(i,a,s,n),t.push(o.__dzAxisProxy))});var r=xt();return b(t,function(i){b(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}},ac=ic;function oc(n){n.registerAction("dataZoom",function(e,t){var r=Xu(t,e);b(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Pr=!1;function sc(n){Pr||(Pr=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,ac),oc(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function lc(n){n.registerComponentModel(qu),n.registerComponentView(tc),sc(n)}var et=function(){function n(){}return n}(),va={};function Xt(n,e){va[n]=e}function da(n){return va[n]}var uc=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;b(this.option.feature,function(r,i){var a=da(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),W(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(At),cc=uc;function hc(n,e,t){var r=e.getBoxLayoutParams(),i=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},o=Gt(r,a,i);Nt(e.get("orient"),n,e.get("itemGap"),o.width,o.height),Xo(n,r,a,i)}function pa(n,e){var t=vn(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new vt({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var fc=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("feature")||{},u=this._features||(this._features={}),c=[];b(l,function(f,d){c.push(d)}),new mi(this._featureNames||[],c).add(h).update(h).remove(R(h,null)).execute(),this._featureNames=c;function h(f,d){var p=c[f],m=c[d],g=l[p],x=new gt(g,t,t.ecModel),y;if(a&&a.newTitle!=null&&a.featureName===p&&(g.title=a.newTitle),p&&!m){if(vc(p))y={onclick:x.option.onclick,featureName:p};else{var _=da(p);if(!_)return;y=new _}u[p]=y}else if(y=u[m],!y)return;y.uid=Uo("toolbox-feature"),y.model=x,y.ecModel=r,y.api=i;var w=y instanceof et;if(!p&&m){w&&y.dispose&&y.dispose(r,i);return}if(!x.get("show")||w&&y.unusable){w&&y.remove&&y.remove(r,i);return}v(x,y,p),x.setIconStatus=function(A,C){var T=this.option,M=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[A]=C,M[A]&&(C==="emphasis"?Ie:Le)(M[A])},y instanceof et&&y.render&&y.render(x,r,i,a)}function v(f,d,p){var m=f.getModel("iconStyle"),g=f.getModel(["emphasis","iconStyle"]),x=d instanceof et&&d.getIcons?d.getIcons():f.get("icon"),y=f.get("title")||{},_,w;typeof x=="string"?(_={},_[p]=x):_=x,typeof y=="string"?(w={},w[p]=y):w=y;var A=f.iconPaths={};b(_,function(C,T){var M=fn(C,{},{x:-s/2,y:-s/2,width:s,height:s});M.setStyle(m.getItemStyle());var D=M.ensureState("emphasis");D.style=g.getItemStyle();var L=new rt({style:{text:w[T],align:g.get("textAlign"),borderRadius:g.get("textBorderRadius"),padding:g.get("textPadding"),fill:null},ignore:!0});M.setTextContent(L),hn({el:M,componentModel:t,itemName:T,formatterParamsExtra:{title:w[T]}}),M.__title=w[T],M.on("mouseover",function(){var B=g.getItemStyle(),S=t.get("orient")==="vertical"?t.get("right")==null?"right":"left":t.get("bottom")==null?"bottom":"top";L.setStyle({fill:g.get("textFill")||B.fill||B.stroke||"#000",backgroundColor:g.get("textBackgroundColor")}),M.setTextConfig({position:g.get("textPosition")||S}),L.ignore=!t.get("showTitle"),Ie(this)}).on("mouseout",function(){f.get(["iconStatus",T])!=="emphasis"&&Le(this),L.hide()}),(f.get(["iconStatus",T])==="emphasis"?Ie:Le)(M),o.add(M),M.on("click",it(d.onclick,d,r,i,T)),A[T]=M})}hc(o,t,i),o.add(pa(o.getBoundingRect(),t)),o.eachChild(function(f){var d=f.__title,p=f.ensureState("emphasis"),m=p.textConfig||(p.textConfig={}),g=f.getTextContent(),x=g&&g.states.emphasis;if(x&&!bt(x)&&d){var y=x.style||(x.style={}),_=cn(d,rt.makeFont(y)),w=f.x+o.x,A=f.y+o.y+s,C=!1;A+_.height>i.getHeight()&&(m.position="top",C=!0);var T=C?-5-_.height:s+8;w+_.width/2>i.getWidth()?(m.position=["100%",T],y.align="right"):w-_.width/2<0&&(m.position=[0,T],y.align="left")}})},e.prototype.updateView=function(t,r,i,a){b(this._features,function(o){o instanceof et&&o.updateView&&o.updateView(o.model,r,i,a)})},e.prototype.remove=function(t,r){b(this._features,function(i){i instanceof et&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){b(this._features,function(i){i instanceof et&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e}(Ct);function vc(n){return n.indexOf("my")===0}var dc=fc,ga=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(typeof MouseEvent=="function"&&(G.browser.newEdge||!G.browser.ie&&!G.browser.edge)){var u=document.createElement("a");u.download=a+"."+s,u.target="_blank",u.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),v=h[0].indexOf("base64")>-1,f=o?decodeURIComponent(h[1]):h[1];v&&(f=window.atob(f));var d=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var p=f.length,m=new Uint8Array(p);p--;)m[p]=f.charCodeAt(p);var g=new Blob([m]);window.navigator.msSaveOrOpenBlob(g,d)}else{var x=document.createElement("iframe");document.body.appendChild(x);var y=x.contentWindow,_=y.document;_.open("image/svg+xml","replace"),_.write(f),_.close(),y.focus(),_.execCommand("SaveAs",!0,d),document.body.removeChild(x)}}else{var w=i.get("lang"),A='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',C=window.open();C.document.write(A),C.document.title=a}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocale(["toolbox","saveAsImage","lang"])};return r},e}(et);ga.prototype.unusable=!G.canvasSupported;var pc=ga,Or="__ec_magicType_stack__",gc=[["line","bar"],["stack"]],yc=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return b(t.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if(!!Br[i]){var s={series:[]},l=function(h){var v=h.subType,f=h.id,d=Br[i](v,f,h,a);d&&(Y(d,h.option),s.series.push(d));var p=h.coordinateSystem;if(p&&p.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=p.getAxesByScale("ordinal")[0];if(m){var g=m.dim,x=g+"Axis",y=h.getReferringComponents(x,_t).models[0],_=y.componentIndex;s[x]=s[x]||[];for(var w=0;w<=_;w++)s[x][_]=s[x][_]||{};s[x][_].boundaryGap=i==="bar"}}};b(gc,function(h){Q(h,i)>=0&&b(h,function(v){a.setIconStatus(v,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=W({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e}(et),Br={line:function(n,e,t,r){if(n==="bar")return W({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return W({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===Or;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),W({id:e,stack:i?"":Or},r.get(["option","stack"])||{},!0)}};ye({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var mc=yc,Ae=new Array(60).join("-"),Wt="	";function xc(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function bc(n){var e=[];return b(n,function(t,r){var i=t.categoryAxis,a=t.valueAxis,o=a.dim,s=[" "].concat(E(t.series,function(f){return f.name})),l=[i.model.getCategories()];b(t.series,function(f){var d=f.getRawData();l.push(f.getRawData().mapArray(d.mapDimension(o),function(p){return p}))});for(var u=[s.join(Wt)],c=0;c<l[0].length;c++){for(var h=[],v=0;v<l.length;v++)h.push(l[v][c]);u.push(h.join(Wt))}e.push(u.join(`
`))}),e.join(`

`+Ae+`

`)}function _c(n){return E(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=t.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];r.push((s?s+Wt:"")+i.join(Wt))}),r.join(`
`)}).join(`

`+Ae+`

`)}function wc(n){var e=xc(n);return{value:he([bc(e.seriesGroupByCategoryAxis),_c(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+Ae+`

`),meta:e.meta}}function pe(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ac(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(Wt)>=0)return!0}var en=new RegExp("["+Wt+"]+","g");function Cc(n){for(var e=n.split(/\n+/g),t=pe(e.shift()).split(en),r=[],i=E(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var o=pe(e[a]).split(en);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}function Sc(n){for(var e=n.split(/\n+/g),t=pe(e.shift()),r=[],i=0;i<e.length;i++){var a=pe(e[i]);if(!!a){var o=a.split(en),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:t,data:r}}function Tc(n,e){var t=n.split(new RegExp(`
*`+Ae+`
*`,"g")),r={series:[]};return b(t,function(i,a){if(Ac(i)){var o=Cc(i),s=e[a],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=Sc(i);r.series.push(o)}}),r}var Mc=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var h=a.get("optionToContent"),v=a.get("contentToOption"),f=wc(t);if(typeof h=="function"){var d=h(r.getOption());typeof d=="string"?u.innerHTML=d:_i(d)&&u.appendChild(d)}else u.appendChild(c),c.readOnly=a.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=a.get("textColor"),c.style.borderColor=a.get("textareaBorderColor"),c.style.backgroundColor=a.get("textareaColor"),c.value=f.value;var p=f.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),y=document.createElement("div");g+=";background-color:"+a.get("buttonColor"),g+=";color:"+a.get("buttonTextColor");var _=this;function w(){i.removeChild(o),_._dom=null}Nn(x,"click",w),Nn(y,"click",function(){if(v==null&&h!=null||v!=null&&h==null){console.warn("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),w();return}var A;try{typeof v=="function"?A=v(u,r.getOption()):A=Tc(c.value,p)}catch(C){throw w(),new Error("Data view format error "+C)}A&&r.dispatchAction({type:"changeDataView",newOption:A}),w()}),x.innerHTML=l[1],y.innerHTML=l[2],y.style.cssText=g,x.style.cssText=g,!a.get("readOnly")&&m.appendChild(y),m.appendChild(x),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(et);function Ic(n,e){return E(n,function(t,r){var i=e&&e[r];if(lt(i)&&!V(i)){var a=lt(t)&&!V(t);a||(t={value:t});var o=i.name!=null&&t.name==null;return t=Y(t,i),o&&delete t.name,t}else return t})}ye({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];b(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(ge({type:"scatter"},r));else{var a=i.get("data");t.push({name:r.name,data:Ic(r.data,a)})}}),e.mergeOption(Y({series:t},n.newOption))});var Lc=Mc,ya=b,ma=Ft();function kc(n,e){var t=Sn(n);ya(e,function(r,i){for(var a=t.length-1;a>=0;a--){var o=t[a];if(o[i])break}if(a<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function Dc(n){var e=Sn(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return ya(t,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){r[a]=i;break}}),r}function Pc(n){ma(n).snapshots=null}function Oc(n){return Sn(n).length}function Sn(n){var e=ma(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Bc=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){Pc(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])};return r},e}(et);ye({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var Rc=Bc,Ec=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Nc=function(){function n(e,t,r){var i=this;this._targetInfoList=[];var a=Rr(t,e);b(zc,function(o,s){(!r||!r.include||Q(r.include,s)>=0)&&o(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=ze[r.brushType](0,a,i);r.__rangeOffset={offset:Gr[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){b(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&b(a.coordSyses,function(o){var s=ze[i.brushType](1,o,i.range,!0);r(i,s.values,o,t)})},this)},n.prototype.setInputRanges=function(e,t){b(e,function(r){var i=this.findTargetInfo(r,t);if(j(!i||i===!0||r.coordRange,"coordRange must be specified when coord index specified."),j(!i||i!==!0||r.range,"range must be specified in global brush."),r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=ze[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?Gr[r.brushType](a.values,o.offset,Gc(a.xyMinMax,o.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return E(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:ou(i),isTargetByCursor:lu(i,e,r.coordSysModel),getLinearBrushOtherExtent:su(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Q(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=Rr(t,e),a=0;a<r.length;a++){var o=r[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<Er.length;l++)if(Er[l](i,o))return o}return!0},n}();function nn(n){return n[0]>n[1]&&n.reverse(),n}function Rr(n,e){return wi(n,e,{includeMainTypes:Ec})}var zc={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=xt(),o={},s={};!t&&!r&&!i||(b(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),b(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),b(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];b(u.getCartesians(),function(h,v){(Q(t,h.getAxis("x").model)>=0||Q(r,h.getAxis("y").model)>=0)&&c.push(h)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:Nr.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){b(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Nr.geo})})}},Er=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],Nr={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(xi(n)),e}},ze={lineX:R(zr,0),lineY:R(zr,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),a=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),o=[nn([i[0],a[0]]),nn([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=E(t,function(o){var s=n?e.pointToData(o,r):e.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function zr(n,e,t,r){j(t.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var i=t.getAxis(["x","y"][n]),a=nn(E([0,1],function(s){return e?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[n]=a,o[1-n]=[NaN,NaN],{values:a,xyMinMax:o}}var Gr={lineX:R(Hr,0),lineY:R(Hr,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return E(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function Hr(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function Gc(n,e){var t=Vr(n),r=Vr(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Vr(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var xa=Nc,rn=b,Hc=Ko("toolbox-dataZoom_"),Vc=function(n){k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){this._brushController||(this._brushController=new au(i.getZr()),this._brushController.on("brush",it(this._onBrush,this)).mount()),Yc(t,r,this,a,i),Fc(t,r)},e.prototype.onclick=function(t,r,i){Wc[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new xa(Tn(this.model),a,{include:["grid"]});o.matchOutputRanges(r,a,function(u,c,h){if(h.type==="cartesian2d"){var v=u.brushType;v==="rect"?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[v],h,c)}}),kc(a,i),this._dispatchZoomAction(i);function s(u,c,h){var v=c.getAxis(u),f=v.model,d=l(u,f,a),p=d.findRepresentativeAxisProxy(f).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(h=Ki(0,h.slice(),v.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),d&&(i[d.id]={dataZoomId:d.id,startValue:h[0],endValue:h[1]})}function l(u,c,h){var v;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(f){var d=f.getAxisModel(u,c.componentIndex);d&&(v=f)}),v}},e.prototype._dispatchZoomAction=function(t){var r=[];rn(t,function(i,a){r.push(J(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(et),Wc={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(Dc(this.ecModel))}};function Tn(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Fc(n,e){n.setIconStatus("back",Oc(e)>1?"emphasis":"normal")}function Yc(n,e,t,r,i){var a=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var o=new xa(Tn(n),e,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}$o("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],a=Tn(r),o=wi(n,a);rn(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),rn(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var h=l.componentIndex,v={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Hc+u+h};v[c]=h,i.push(v)}return i});var Zc=Vc;function Xc(n){n.registerComponentModel(cc),n.registerComponentView(dc),Xt("saveAsImage",pc),Xt("magicType",mc),Xt("dataView",Lc),Xt("dataZoom",Zc),Xt("restore",Rc),wt(lc)}var Uc=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(At),$c=Uc;function ba(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function _a(n){if(!!G.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var wa=_a(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kc=_a(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Aa(n,e){if(!n)return e;e=Ai(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function Wr(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var qc=Aa(Kc,"transition"),Mn=Aa(wa,"transform"),jc="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(G.transform3dSupported?"will-change:transform;":"");function Qc(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function Jc(n,e,t){if(!st(t)||t==="inside")return"";e=de(e);var r=Qc(t),i=r+":-6px;",a=Mn+":";Q(["left","right"],r)>-1?(i+="top:50%",a+="translateY(-50%) rotate("+(r==="left"?-225:-45)+"deg)"):(i+="left:50%",a+="translateX(-50%) rotate("+(r==="top"?225:45)+"deg)");var o=e+" solid 1px;",s=["position:absolute;width:10px;height:10px;",i+";"+a+";","border-bottom:"+o,"border-right:"+o,"background-color:"+n+";","box-shadow:8px 8px 16px -3px #000;"];return'<div style="'+s.join("")+'"></div>'}function th(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=G.transformSupported?","+Mn+r:",left"+r+",top"+r),qc+":"+i}function Fr(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!G.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=G.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+Mn+":"+o+";":[["top",0],["left",0],[wa,o]]}function eh(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,o=n.get("textShadowOffsetX")||0,s=n.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),b(["decoration","align"],function(l){var u=n.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function nh(n,e,t){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),o=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),c=n.getModel("textStyle"),h=Ci(n,"html"),v=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+v),e&&i&&r.push(th(i,t)),a&&(G.canvasSupported?r.push("background-color:"+a):(r.push("background-color:#"+jo(a)),r.push("filter:alpha(opacity=70)"))),b(["width","color","radius"],function(f){var d="border-"+f,p=Ai(d),m=n.get(p);m!=null&&r.push(d+":"+m+(f==="color"?"":"px"))}),r.push(eh(c)),h!=null&&r.push("padding:"+vn(h).join("px ")+"px"),r.join(";")+";"}function Yr(n,e,t,r,i){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&Qo(n,o,document.body,r,i)}else{n[0]=r,n[1]=i;var s=a&&a.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var rh=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,G.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),o=this._appendToBody=r&&r.appendToBody;Yr(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(i):e.appendChild(i),this._container=e;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,c=a.painter.getViewportRoot();qo(c,l,!0),u.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=Wr(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=jc+nh(e,!this._firstShow,this._longHide)+Fr(a[0],a[1],!0)+("border-color:"+de(t)+";")+(e.get("extraCssText")||"")+(";pointer-event:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){if(e!=null){var o=this.el;if(st(a)&&r.get("trigger")==="item"&&!ba(r)&&(e+=Jc(r.get("backgroundColor"),i,a)),st(e))o.innerHTML=e;else if(e){o.innerHTML="",V(e)||(e=[e]);for(var s=0;s<e.length;s++)_i(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s])}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.clientWidth,e.clientHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Yr(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=Fr(r[0],r[1]);b(a,function(o){i[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",G.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(it(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n.prototype.getOuterSize=function(){var e=this.el.clientWidth,t=this.el.clientHeight,r=Wr(this.el);return r&&(e+=parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),t+=parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)),{width:e,height:t}},n}(),ih=rh,ah=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),Xr(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){lt(e)&&Jo("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new rt({style:{rich:t.richTextStyles,text:e,lineHeight:22,backgroundColor:r.get("backgroundColor"),borderRadius:r.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:r.get("shadowColor"),shadowBlur:r.get("shadowBlur"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY"),textShadowColor:o.get("textShadowColor"),textShadowBlur:o.get("textShadowBlur")||0,textShadowOffsetX:o.get("textShadowOffsetX")||0,textShadowOffsetY:o.get("textShadowOffsetY")||0,fill:r.get(["textStyle","color"]),padding:Ci(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Zr(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Xr(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,o=pt(a.borderWidth||0),s=Zr(a);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(it(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.getOuterSize=function(){var e=this.getSize();return{width:e[0],height:e[1]}},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function pt(n){return Math.max(0,n)}function Zr(n){var e=pt(n.shadowBlur||0),t=pt(n.shadowOffsetX||0),r=pt(n.shadowOffsetY||0);return{left:pt(e-t),right:pt(e+t),top:pt(e-r),bottom:pt(e+r)}}function Xr(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var oh=ah,Ur=it,Ut=b,$r=os,sh=new vt({shape:{x:-1,y:-1,width:2,height:2}}),lh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!G.node){var i=t.getComponent("tooltip"),a=i.get("renderMode");this._renderMode=ts(a),this._tooltipContent=this._renderMode==="richText"?new oh(r):new ih(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!G.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");ca("itemTooltip",this._api,Ur(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api;if(this._lastX!=null&&this._lastY!=null&&t.get("triggerOn")!=="none"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(t,r,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||G.node)){var o=Kr(a,i);this._ticket="";var s=a.dataByCoordSys,l=fh(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=sh;c.x=a.x,c.y=a.y,c.update(),ot(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var h=ha(a,r),v=h.point[0],f=h.point[1];v!=null&&f!=null&&this._tryShow({offsetX:v,offsetY:f,target:h.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,i,a){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Kr(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(!!u){var c=u.getData(),h=se([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(!!a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){this._lastDataByCoordSys=null;var s,l;es(i,function(u){if(ot(u).dataIndex!=null)return s=u,!0;if(ot(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(t,s,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=it(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=se([r.tooltipOption],a),l=this._renderMode,u=[],c=zn("section",{blocks:[],noHeader:!0}),h=[],v=new ke;Ut(t,function(x){Ut(x.dataByAxis,function(y){var _=i.getComponent(y.axisDim+"Axis",y.axisIndex),w=y.value;if(!(!_||w==null)){var A=la(w,_.axis,i,y.seriesDataIndices,y.valueLabelOpt),C=zn("section",{header:A,noHeader:!ns(A),sortBlocks:!0,blocks:[]});c.blocks.push(C),b(y.seriesDataIndices,function(T){var M=i.getSeriesByIndex(T.seriesIndex),D=T.dataIndexInside,L=M.getDataParams(D);L.axisDim=y.axisDim,L.axisIndex=y.axisIndex,L.axisType=y.axisType,L.axisId=y.axisId,L.axisValue=pn(_.axis,{value:w}),L.axisValueLabel=A,L.marker=v.makeTooltipMarker("item",de(L.color),l);var B=Gn(M.formatTooltip(D,!0,null));B.markupFragment&&C.blocks.push(B.markupFragment),B.markupText&&h.push(B.markupText),u.push(L)})}})}),c.blocks.reverse(),h.reverse();var f=r.position,d=s.get("order"),p=Hn(c,v,l,d,i.get("useUTC"),s.get("textStyle"));p&&h.unshift(p);var m=l==="richText"?`

`:"<br/>",g=h.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],f,null,v)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,o=ot(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,h=o.dataType,v=u.getData(h),f=this._renderMode,d=t.positionDefault,p=se([v.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(c,h),x=new ke;g.marker=x.makeTooltipMarker("item",de(g.color),f);var y=Gn(u.formatTooltip(c,!1,h)),_=p.get("order"),w=y.markupFragment?Hn(y.markupFragment,x,f,_,a.get("useUTC"),p.get("textStyle")):y.markupText,A="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,w,g,A,t.offsetX,t.offsetY,t.position,t.target,x)}),i({type:"showTip",dataIndexInside:c,dataIndex:v.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=ot(r),o=a.tooltipConfig,s=o.option||{};if(st(s)){var l=s;s={content:l,formatter:l}}var u=[s],c=this._ecModel.getComponent(a.componentMainType,a.componentIndex);c&&u.push(c),u.push({formatter:s.content});var h=t.positionDefault,v=se(u,this._tooltipModel,h?{position:h}:null),f=v.get("content"),d=Math.random()+"",p=new ke;this._showOrMove(v,function(){var m=J(v.get("formatterParams")||{});this._showTooltipContent(v,f,m,d,t.offsetX,t.offsetY,t.position,r,p)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var h=this._tooltipContent,v=t.get("formatter");l=l||t.get("position");var f=r,d=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor")),p=d.color;if(v&&st(v)){var m=t.ecModel.get("useUTC"),g=V(i)?i[0]:i,x=g&&g.axisType&&g.axisType.indexOf("time")>=0;f=v,x&&(f=ni(g.axisValue,f,m)),f=rs(f,i,!0)}else if(bt(v)){var y=Ur(function(_,w){_===this._ticket&&(h.setContent(w,c,t,p,l),this._updatePosition(t,l,o,s,h,i,u))},this);this._ticket=a,f=v(i,a,y)}h.setContent(f,c,t,p,l),h.show(t,p),this._updatePosition(t,l,o,s,h,i,u)}},e.prototype._getNearestPoint=function(t,r,i,a){if(i==="axis"||V(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!V(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||t.get("position");var h=o.getSize(),v=t.get("align"),f=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),bt(r)&&(r=r([i,a],s,o.el,d,{viewSize:[u,c],contentSize:h.slice()})),V(r))i=$r(r[0],u),a=$r(r[1],c);else if(lt(r)){var p=r;p.width=h[0],p.height=h[1];var m=Gt(p,{width:u,height:c});i=m.x,a=m.y,v=null,f=null}else if(st(r)&&l){var g=hh(r,d,h);i=g[0],a=g[1]}else{var g=uh(i,a,o,u,c,v?null:20,f?null:20);i=g[0],a=g[1]}if(v&&(i-=qr(v)?h[0]/2:v==="right"?h[0]:0),f&&(a-=qr(f)?h[1]/2:f==="bottom"?h[1]:0),ba(t)){var g=ch(i,a,o,u,c);i=g[0],a=g[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t){var r=this._lastDataByCoordSys,i=!!r&&r.length===t.length;return i&&Ut(r,function(a,o){var s=a.dataByAxis||[],l=t[o]||{},u=l.dataByAxis||[];i=i&&s.length===u.length,i&&Ut(s,function(c,h){var v=u[h]||{},f=c.seriesDataIndices||[],d=v.seriesDataIndices||[];i=i&&c.value===v.value&&c.axisType===v.axisType&&c.axisId===v.axisId&&f.length===d.length,i&&Ut(f,function(p,m){var g=d[m];i=i&&p.seriesIndex===g.seriesIndex&&p.dataIndex===g.dataIndex})})}),this._lastDataByCoordSys=t,!!i},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){G.node||(this._tooltipContent.dispose(),tn("itemTooltip",r))},e.type="tooltip",e}(Ct);function se(n,e,t){var r=e.ecModel,i;t?(i=new gt(t,r,r),i=new gt(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var o=n[a];o&&(o instanceof gt&&(o=o.get("tooltip",!0)),st(o)&&(o={formatter:o}),o&&(i=new gt(o,i,r)))}return i}function Kr(n,e){return n.dispatchAction||it(e.dispatchAction,e)}function uh(n,e,t,r,i,a,o){var s=t.getOuterSize(),l=s.width,u=s.height;return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),o!=null&&(e+u+o>i?e-=u+o:e+=o),[n,e]}function ch(n,e,t,r,i){var a=t.getOuterSize(),o=a.width,s=a.height;return n=Math.min(n+o,r)-o,e=Math.min(e+s,i)-s,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function hh(n,e,t){var r=t[0],i=t[1],a=10,o=5,s=0,l=0,u=e.width,c=e.height;switch(n){case"inside":s=e.x+u/2-r/2,l=e.y+c/2-i/2;break;case"top":s=e.x+u/2-r/2,l=e.y-i-a;break;case"bottom":s=e.x+u/2-r/2,l=e.y+c+a;break;case"left":s=e.x-r-a-o,l=e.y+c/2-i/2;break;case"right":s=e.x+u+a+o,l=e.y+c/2-i/2}return[s,l]}function qr(n){return n==="center"||n==="middle"}function fh(n,e,t){var r=is(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=as(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(!!o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=ot(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}var vh=lh;function dh(n){wt(fa),n.registerComponentModel($c),n.registerComponentView(vh),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}var ph=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(At),gh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=Si(t.get("textBaseline"),t.get("textVerticalAlign")),c=new rt({style:Ht(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),v=t.get("subtext"),f=new rt({style:Ht(s,{text:v,fill:s.getTextColor(),y:h.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),p=t.get("sublink"),m=t.get("triggerEvent",!0);c.silent=!d&&!m,f.silent=!p&&!m,d&&c.on("click",function(){Vn(d,"_"+t.get("target"))}),p&&f.on("click",function(){Vn(p,"_"+t.get("subtarget"))}),ot(c).eventData=ot(f).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),v&&a.add(f);var g=a.getBoundingRect(),x=t.getBoxLayoutParams();x.width=g.width,x.height=g.height;var y=Gt(x,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),a.x=y.x,a.y=y.y,a.markRedraw();var _={align:l,verticalAlign:u};c.setStyle(_),f.setStyle(_),g=a.getBoundingRect();var w=y.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var C=new vt({shape:{x:g.x-w[3],y:g.y-w[0],width:g.width+w[1]+w[3],height:g.height+w[0]+w[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(C)}},e.type="title",e}(Ct);function yh(n){n.registerComponentModel(ph),n.registerComponentView(gh)}var mh=function(n,e){if(e==="all")return{type:"all",title:n.getLocale(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocale(["legend","selector","inverse"])}},xh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),V(r)&&b(r,function(a,o){st(a)&&(a={type:a}),r[o]=W(a,mh(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(s){var l=s.name;i.push(l);var u;if(s.legendVisualProvider){var c=s.legendVisualProvider,h=c.getAllNames();t.isSeriesFiltered(s)||(i=i.concat(h)),h.length?r=r.concat(h):u=!0}else u=!0;u&&ss(s)&&r.push(s.name)}),this._availableNames=i;var a=this.get("data")||r,o=E(a,function(s){return(typeof s=="string"||typeof s=="number")&&(s={name:s}),new gt(s,this,this.ecModel)},this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;b(a,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;b(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;b(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Q(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(At),an=xh,Bt=R,jr=b,le=ft,bh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new le),this.group.add(this._selectorGroup=new le),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,i,l,s,u);var c=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},v=t.get("padding"),f=Gt(c,h,v),d=this.layoutInner(t,o,f,a,l,u),p=Gt(Y({width:d.width,height:d.height},c),h,v);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=pa(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this.getContentGroup(),c=xt(),h=r.get("selectedMode"),v=[];i.eachRawSeries(function(f){!f.get("legendHoverLink")&&v.push(f.id)}),jr(r.getData(),function(f,d){var p=f.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new le;m.newline=!0,u.add(m);return}var g=i.getSeriesByName(p)[0];if(!c.get(p)){if(g){var x=g.getData(),y=x.getVisual("legendLineStyle")||{},_=x.getVisual("legendIcon"),w=x.getVisual("style"),A=this._createItem(g,p,d,f,r,t,y,w,_,h);A.on("click",Bt(Qr,p,null,a,v)).on("mouseover",Bt(on,g.name,null,a,v)).on("mouseout",Bt(sn,g.name,null,a,v)),c.set(p,!0)}else i.eachRawSeries(function(C){if(!c.get(p)&&C.legendVisualProvider){var T=C.legendVisualProvider;if(!T.containName(p))return;var M=T.indexOfName(p),D=T.getItemVisual(M,"style"),L=T.getItemVisual(M,"legendIcon"),B=ls(D.fill);B&&B[3]===0&&(B[3]=.2,D.fill=us(B,"rgba"));var S=this._createItem(C,p,d,f,r,t,{},D,L,h);S.on("click",Bt(Qr,null,p,a,v)).on("mouseover",Bt(on,null,p,a,v)).on("mouseout",Bt(sn,null,p,a,v)),c.set(p,!0)}},this);c.get(p)||console.warn(p+" series not exists. Legend data should be same with series name or data name.")}},this),o&&this._createSelector(o,r,a,s,l)},e.prototype._createSelector=function(t,r,i,a,o){var s=this.getSelectorGroup();jr(t,function(u){var c=u.type,h=new rt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(h);var v=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);cs(h,{normal:v,emphasis:f},{defaultText:u.title}),Wn(h)})},e.prototype._createItem=function(t,r,i,a,o,s,l,u,c,h){var v=t.visualDrawType,f=o.get("itemWidth"),d=o.get("itemHeight"),p=o.isSelected(r),m=a.get("symbolRotate"),g=a.get("icon");c=g||c||"roundRect";var x=o.getModel("lineStyle"),y=_h(c,a,x,l,u,v,p),_=new le,w=a.getModel("textStyle");if(typeof t.getLegendIcon=="function"&&(!g||g==="inherit"))_.add(t.getLegendIcon({itemWidth:f,itemHeight:d,icon:c,iconRotate:m,itemStyle:y.itemStyle,lineStyle:y.lineStyle}));else{var A=g==="inherit"&&t.getData().getVisual("symbol")?m==="inherit"?t.getData().getVisual("symbolRotate"):m:0;_.add(wh({itemWidth:f,itemHeight:d,icon:c,iconRotate:A,itemStyle:y.itemStyle,lineStyle:y.lineStyle}))}var C=s==="left"?f+5:-5,T=s,M=o.get("formatter"),D=r;typeof M=="string"&&M?D=M.replace("{name}",r!=null?r:""):typeof M=="function"&&(D=M(r));var L=a.get("inactiveColor");_.add(new rt({style:Ht(w,{text:D,x:C,y:d/2,fill:p?w.getTextColor():L,align:T,verticalAlign:"middle"})}));var B=new vt({shape:_.getBoundingRect(),invisible:!0}),S=a.getModel("tooltip");return S.get("show")&&hn({el:B,componentModel:o,itemName:r,itemTooltipOption:S.option}),_.add(B),_.eachChild(function(P){P.silent=!0}),B.silent=!h,this.getContentGroup().add(_),Wn(_),_.__legendDataIndex=i,_},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Nt(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Nt("horizontal",u,t.get("selectorItemGap",!0));var v=u.getBoundingRect(),f=[-v.x,-v.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",x=p===0?"y":"x";s==="end"?f[p]+=c[m]+d:h[p]+=v[m]+d,f[1-p]+=c[g]/2-v[g]/2,u.x=f[0],u.y=f[1],l.x=h[0],l.y=h[1];var y={x:0,y:0};return y[m]=c[m]+d+v[m],y[g]=Math.max(c[g],v[g]),y[x]=Math.min(0,v[x]+f[1-p]),y}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ct);function _h(n,e,t,r,i,a,o){for(var s=e.getModel("itemStyle"),l=hs.concat([["decal"]]),u={},c=0;c<l.length;++c){var h=l[c][l[c].length-1],v=l[c][0],f=s.getShallow(h);if(f==="inherit")switch(v){case"fill":u.fill=i[a];break;case"stroke":u.stroke=i[n.lastIndexOf("empty",0)===0?"fill":"stroke"];break;case"opacity":u.opacity=(a==="fill"?i:r).opacity;break;default:u[v]=i[v]}else f==="auto"&&v==="lineWidth"?u.lineWidth=i.lineWidth>0?2:0:u[v]=f}for(var d=e.getModel("lineStyle"),p=fs.concat([["inactiveColor"],["inactiveWidth"]]),m={},c=0;c<p.length;++c){var h=p[c][1],v=p[c][0],f=d.getShallow(h);f==="inherit"?m[v]=r[v]:f==="auto"&&v==="lineWidth"?m.lineWidth=r.lineWidth>0?2:0:m[v]=f}if(u.fill==="auto"&&(u.fill=i.fill),u.stroke==="auto"&&(u.stroke=i.fill),m.stroke==="auto"&&(m.stroke=i.fill),!o){var g=e.get("inactiveBorderWidth"),x=u[n.indexOf("empty")>-1?"fill":"stroke"];u.lineWidth=g==="auto"?i.lineWidth>0&&x?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),m.stroke=t.get("inactiveColor"),m.lineWidth=t.get("inactiveWidth")}return{itemStyle:u,lineStyle:m}}function wh(n){var e=n.icon||"roundRect",t=pi(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Qr(n,e,t,r){sn(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n!=null?n:e}),on(n,e,t,r)}function Ca(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function on(n,e,t,r){Ca(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function sn(n,e,t,r){Ca(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}var Sa=bh;function Ah(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function $t(n,e,t){var r={},i=n==="toggleSelected",a;return t.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?o[n]():(o[n](e.name),a=o.isSelected(e.name));var s=o.getData();b(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&c:r[u]=c}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function Ch(n){n.registerAction("legendToggleSelect","legendselectchanged",R($t,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",R($t,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",R($t,"inverseSelect")),n.registerAction("legendSelect","legendselected",R($t,"select")),n.registerAction("legendUnSelect","legendunselected",R($t,"unSelect"))}function Ta(n){n.registerComponentModel(an),n.registerComponentView(Sa),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Ah),n.registerSubTypeDefaulter("legend",function(){return"plain"}),Ch(n)}var Sh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=fi(t);n.prototype.init.call(this,t,r,i),Jr(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),Jr(this,this.option,t)},e.type="legend.scroll",e.defaultOption=vs(an.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(an);function Jr(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,vi(e,t,{type:"box",ignoreSize:!!i})}var Th=Sh,ti=ft,Ge=["width","height"],He=["x","y"],Mh=function(n){k(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new ti),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ti)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this;n.prototype.renderInner.call(this,t,r,i,a,o,s,l);var c=this._controllerGroup,h=r.get("pageIconSize",!0),v=V(h)?h:[h,h];d("pagePrev",0);var f=r.getModel("pageTextStyle");c.add(new rt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,m){var g=p+"DataIndex",x=fn(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:it(u._pageGo,u,g,r,a)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});x.name=p,c.add(x)}},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=Ge[u],h=He[u],v=Ge[1-u],f=He[1-u];o&&Nt("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],g=J(i);o&&(g[c]=i[c]-p[c]-d);var x=this._layoutContentAndController(t,a,g,u,c,v,f,h);if(o){if(s==="end")m[u]+=x[c]+d;else{var y=p[c]+d;m[u]-=y,x[h]-=y}x[c]+=p[c]+d,m[1-u]+=x[f]+x[v]/2-p[v]/2,x[v]=Math.max(x[v],p[v]),x[f]=Math.min(x[f],p[f]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,r,i,a,o,s,l,u){var c=this.getContentGroup(),h=this._containerGroup,v=this._controllerGroup;Nt(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),Nt("horizontal",v,t.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),d=v.getBoundingRect(),p=this._showController=f[o]>i[o],m=[-f.x,-f.y];r||(m[a]=c[u]);var g=[0,0],x=[-d.x,-d.y],y=Si(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var _=t.get("pageButtonPosition",!0);_==="end"?x[a]+=i[o]-d[o]:g[a]+=d[o]+y}x[1-a]+=f[s]/2-d[s]/2,c.setPosition(m),h.setPosition(g),v.setPosition(x);var w={x:0,y:0};if(w[o]=p?i[o]:f[o],w[s]=Math.max(f[s],d[s]),w[l]=Math.min(0,d[l]+x[1-a]),h.__rectSize=i[o],p){var A={x:0,y:0};A[o]=Math.max(i[o]-d[o]-y,0),A[s]=w[s],h.setClipPath(new vt({shape:A})),h.__rectSize=A[o]}else v.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(t);return C.pageIndex!=null&&bi(c,{x:C.contentPosition[0],y:C.contentPosition[1]},p?t:null),this._updatePageInfoView(t,C),w},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;b(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",v=r[h]!=null,f=i.childOfName(c);f&&(f.setStyle("fill",v?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=v?"pointer":"default")});var a=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;a&&o&&a.setStyle("text",st(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=Ge[o],l=He[o],u=this._findTargetItemIndex(r),c=i.children(),h=c[u],v=c.length,f=v?1:0,d={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return d;var p=_(h);d.contentPosition[o]=-p.s;for(var m=u+1,g=p,x=p,y=null;m<=v;++m)y=_(c[m]),(!y&&x.e>g.s+a||y&&!w(y,g.s))&&(x.i>g.i?g=x:g=y,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),x=y;for(var m=u-1,g=p,x=p,y=null;m>=-1;--m)y=_(c[m]),(!y||!w(x,y.s))&&g.i<x.i&&(x=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=y;return d;function _(A){if(A){var C=A.getBoundingRect(),T=C[l]+A[l];return{s:T,e:T+C[s],i:A.__legendDataIndex}}}function w(A,C){return A.e>=C&&A.s<=C+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===t&&(r=s)}),r!=null?r:a},e.type="legend.scroll",e}(Sa),Ih=Mh;function Lh(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function kh(n){wt(Ta),n.registerComponentModel(Th),n.registerComponentView(Ih),Lh(n)}function Dh(n){wt(Ta),wt(kh)}const Ma=n=>(Ka("data-v-646c5fd9"),n=n(),qa(),n),Ph={class:"detail-advanced"},Oh=["src"],Bh={class:"info-block"},Rh={key:0},Eh=["href"],Nh={key:1},zh={key:2},Gh={key:3},Hh={key:4},Vh=Ma(()=>q("div",{class:"deploy-panel-left"},[q("div",{id:"monitorContainer",style:{width:"100%",height:"265px"}})],-1)),Wh=Ma(()=>q("div",{class:"deploy-panel-left"},[q("div",{id:"dataContainer",style:{width:"100%",height:"265px"}})],-1)),Fh=["href"],Yh=["href"],Zh=["href"],Xh={name:"DetailAdvanced"},Uh=Ha({...Xh,setup(n){wt([yh,Xc,dh,Fu,Dh,ds,ps,gs]);const e=Va(),t=Wa(),r=at([]),i=at(),a=at(),o=at(),s=at(),l=at(!1),u=at(uu),c=at({current:1,previous:1,pageSize:10,total:100}),h=at({sortBy:void 0,descending:void 0}),v=()=>(i.value=t.currentRoute.value.params.address,Ja(i.value)==null?(t.push("/result/404"),-1):0),f=async()=>{i.value;try{const P=await ja(i.value);var S=[];S.push(P),s.value=Qa(S)[0],o.value=s.value.pairName,d(s.value)}catch(P){console.log(P)}},d=S=>{u.value.address.value=S.address,u.value.address.href="https://etherscan.io/address/"+S.address,u.value.token0.value=S.token0,u.value.token0.href="https://etherscan.io/address/"+S.token0,u.value.token1.value=S.token1,u.value.token1.href="https://etherscan.io/address/"+S.token1,u.value.firstAddTxHash.value=Me(S.firstAddTxHash,24,16),u.value.firstAddTxHash.href="https://etherscan.io/tx/"+S.firstAddTxHash,u.value.txNumIn1h.value=S.txNumIn1h,u.value.txNumIn24h.value=S.txNumIn24h,u.value.txNumChangeIn1h.value=S.txNumChangeIn1h,u.value.txNumChangeIn24h.value=S.txNumChangeIn24h,u.value.liquidityInUsd.value=S.liquidityInUsd,u.value.price.value=S.price,u.value.priceChangeIn1h.value=S.priceChangeIn1h,u.value.priceChangeIn24h.value=S.priceChangeIn24h,u.value.volumeByUsdIn1h.value=S.volumeByUsdIn1h,u.value.volumeByUsdIn24h.value=S.volumeByUsdIn24h,u.value.firstAddPoolTime.value=S.firstAddPoolTime},p=()=>{A(y,w),f(),m()},m=async()=>{l.value=!0;var S={recentdays:30,pairAddr:i.value};try{const P=await to(c,S,h);r.value=eo(P.list),c.value={...c.value,total:P.count}}catch(P){console.log(P)}finally{l.value=!1}};Fa(()=>{v()<0||(a.value=!1,x=document.getElementById("monitorContainer"),y=Fn(x),_=document.getElementById("dataContainer"),w=Fn(_),setInterval(async()=>{A(y,w)},6e4),p(),Ln(()=>t.currentRoute.value,(S,P)=>{S.params.address!=null&&i.value!=S.params.address&&(i.value=S.params.address,p())}),window.addEventListener("resize",T,!1))}),Ln(()=>e.brandTheme,()=>{ys([y,w])});const g=Ya(()=>e.chartColors);let x,y,_,w;async function A(S,P){const N=await B({...g.value});S.setOption(N[0]),P.setOption(N[1])}const C=null,T=()=>{y.resize({width:x.clientWidth,height:x.clientHeight}),w.resize({width:_.clientWidth,height:_.clientHeight})};Za(()=>{window.removeEventListener("resize",T),clearInterval(C)}),at(!1);const M=S=>{console.log(S)},D=(S,P)=>{S.sorter?(h.value.sortBy=S.sorter.sortBy,h.value.descending=S.sorter.descending):S.pagination||(h.value.sortBy=void 0,h.value.descending=void 0),S.pagination&&(c.value.current=S.pagination.current,c.value.previous=S.pagination.previous,c.value.pageSize=S.pagination.pageSize),m()},L=()=>{a.value=!a.value},B=async S=>{for(var P=await du(i.value),N=[],X=[],Z=[],z=[],H=[],I=[],O=0;P.prices1h&&O<P.prices1h.length;O++){var Yt=new Date(P.prices1h[O].time);Yt.getFullYear()>2010&&(X.push(P.prices1h[O].value),N.push(P.txs1h[O].value),Z.push(Yt))}for(var O=0;P.prices48h&&O<P.prices48h.length;O++){var Yt=new Date(P.prices48h[O].time);Yt.getFullYear()>2010&&(H.push(P.prices48h[O].value),z.push(P.txs48h[O].value),I.push(Yt))}if(Z.length===0)for(var Ce=new Date,O=60;O>0;O--){var Se=new Date(Ce.getTime()-O*6e4);Z.push(Se),X.push(P.price),N.push(0)}if(I.length===0)for(var Ce=new Date,O=48;O>0;O--){var Se=new Date(Ce.getTime()-O*36e5);I.push(Se),H.push(P.price),z.push(0)}const In=7,[Ia,La,ka]=yr(Z,X,N,In),Da=gr(Ia),[Pa,Oa,Ba]=yr(I,H,z,In),Ra=gr(Pa);var Ea=mr({dateTime:Da,seriesDatax:La,seriesDatay:ka,...S}),Na=mr({dateTime:Ra,seriesDatax:Oa,seriesDatay:Ba,...S});return[Ea,Na]};return(S,P)=>{const N=Zt("t-card"),X=Zt("t-col"),Z=Zt("t-row"),z=Zt("t-tag"),H=Zt("t-table");return tt(),ut("div",Ph,[U(N,{pair:s.value,title:o.value},{actions:F(()=>[q("div",null,[q("img",{class:"favourite",src:a.value===!0?St(hu):St(fu),onClick:L},null,8,Oh)])]),default:F(()=>[q("div",Bh,[(tt(!0),ut(Xa,null,Ua(u.value,(I,O)=>(tt(),ut("div",{key:O,class:"info-item",span:10},[q("h1",null,Pt(I.name),1),I.href?(tt(),ut("div",Rh,[q("a",{href:I.href,target:"_blank"},Pt(I.value),9,Eh)])):O==="priceChangeIn1h"?(tt(),ut("div",Nh,[U(ne,{type:parseFloat(I.value)>0?"up":"down",describe:I.value},null,8,["type","describe"])])):O==="priceChangeIn24h"?(tt(),ut("div",zh,[U(ne,{type:parseFloat(I.value)>0?"up":"down",describe:I.value},null,8,["type","describe"])])):O==="txNumChangeIn1h"?(tt(),ut("div",Gh,[U(ne,{type:parseFloat(I.value)>0?"up":"down",describe:I.value},null,8,["type","describe"])])):O==="txNumChangeIn24h"?(tt(),ut("div",Hh,[U(ne,{type:parseFloat(I.value)>0?"up":"down",describe:I.value},null,8,["type","describe"])])):(tt(),ut("div",{key:5,class:$a({highlight:O==="firstAddPoolTime"})},Pt(I.value),3))]))),128))])]),_:1},8,["pair","title"]),Te(" \u4EF7\u683C\u66F2\u7EBF\u56FE etc "),U(Z,{gutter:16},{default:F(()=>[U(X,{lg:6,xs:12},{default:F(()=>[U(N,{title:"Last Hour Trend"},{default:F(()=>[Vh]),_:1})]),_:1}),U(X,{lg:6,xs:12},{default:F(()=>[U(N,{title:"Last Day Trend"},{default:F(()=>[Wh]),_:1})]),_:1})]),_:1}),U(N,{title:"Swap Transactions",class:"container-base-margin-top"},{default:F(()=>[U(H,{columns:St(cu),data:r.value,pagination:c.value,hover:!0,loading:l.value,"row-key":"index",size:"large",onSortChange:M,onChange:D},{direction:F(({row:I})=>[I.direction===St(Yn).BUY_ADD?(tt(),kn(z,{key:0,theme:"success",variant:"light"},{default:F(()=>[Dn(" Buy ")]),_:1})):Te("v-if",!0),I.direction===St(Yn).SELL_REMOVE?(tt(),kn(z,{key:1,theme:"danger",variant:"light"},{default:F(()=>[Dn(" Sell ")]),_:1})):Te("v-if",!0)]),pairName:F(({row:I})=>[q("a",{class:"t-button-link",href:"https://etherscan.io/address/"+I.pairAddr,target:"_blank"},Pt(I.pairName),9,Fh)]),txHash:F(({row:I})=>[q("a",{class:"t-button-link",href:"https://etherscan.io/tx/"+I.txHash,target:"_blank"},Pt(St(Me)(I.txHash,8,4)),9,Yh)]),trader:F(({row:I})=>[q("a",{class:"t-button-link",href:"https://etherscan.io/address/"+I.trader,target:"_blank"},Pt(St(Me)(I.trader,6,4)),9,Zh)]),_:1},8,["columns","data","pagination","loading"])]),_:1})])}}});var rf=Ga(Uh,[["__scopeId","data-v-646c5fd9"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/details/pair/advanced/index.vue"]]);export{rf as default};
