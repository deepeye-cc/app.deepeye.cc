import{d as I,s as G,r as p,a as q,x as J,H as Q,c as n,g as X,h as a,w as e,m as f,M as Z,e as U,k as i,j as l,t as d,I as ee,p as te,l as ae,_ as K,f as ue}from"./index.7153c215.js";import{c as oe,a as _,f as x}from"./format.2cb2ce4b.js";import{W as se}from"./index.fb3dd0e2.js";import{a as le}from"./partner.d373fb67.js";import{I as N,t as re}from"./ethereum.48830945.js";import"./encrypt.16bb417f.js";const v=y=>(te("data-v-2aded756"),y=y(),ae(),y),ne={class:"list-common-table"},ie={class:"table-container"},de=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),ce=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),pe=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),fe=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),me=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),_e=v(()=>f("i",{class:"fas fa-info-circle"},"i",-1)),ve="index",ye="top",he=!0,Be=I({__name:"CommonTable",setup(y){const F=G();p(""),p(!1);const T=()=>{var u=A.currentRoute.value.params.address;Array.isArray(u)&&(u=u[0]),N(u)&&(o.value.address=u)},W=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],M=[{value:0,label:"Ignore"},{value:1,label:"must be <=0"}],k=[{title:"User Address",width:150,colKey:"address"},{title:"Weight",width:100,sorter:!0,colKey:"weight"},{title:"Win Ratio",colKey:"winRatio",sorter:!0,width:100},{title:"Eth Balance",colKey:"ethBalance",sorter:!0,width:100},{title:"Total Trade Num",colKey:"totalTradeCount",sorter:!0,width:120},{title:"Valid Trade Num",colKey:"validTradeCount",sorter:!0,width:120},{title:"Earn Value",colKey:"totalWinValue",sorter:!0,width:100},{title:"MevBuy",colKey:"buyMevRatio",sorter:!0,width:100},{title:"FreshBuy",colKey:"buyFreshRatio",sorter:!0,width:100},{title:"SubNewBuy",colKey:"buySubnewRatio",sorter:!0,width:100},{title:"DeflatBuy",colKey:"buyDeflatTokenRatio",sorter:!0,width:100},{title:"Epoch",width:100,colKey:"epoch"},{title:"Type",width:100,colKey:"type"}],A=q(),r=p({current:1,previous:1,pageSize:10,total:100}),h=p({sortBy:"",descending:!0}),b=p([]),E=p(!1),o=p({address:"",epoch:"",mevBuyRatio:0,freshBuyRatio:0,type:0}),R=async()=>{E.value=!0;var u={};if(o.value.address!="")if(N(o.value.address))u.address=re(o.value.address);else{Z.warning("Wrong User Address.");return}o.value.mevBuyRatio>0&&(u.mevBuyRatio=o.value.mevBuyRatio),o.value.epoch!=""&&(u.epoch=o.value.epoch),o.value.freshBuyRatio>0&&(u.freshBuyRatio=o.value.freshBuyRatio),o.value.type>0&&(u.type=o.value.type);try{const s=await le(r,u,h);b.value=[],s.list!=null&&(b.value=s.list),r.value={...r.value,total:s.count}}catch(s){console.log(s),s.response.status==401&&A.push("/login")}finally{E.value=!1}};J(()=>{T(),R()});const O=u=>{var s="Frontrun";return u==2?s="Rush":u==3&&(s="Trend"),s},g=()=>{r.value.current=1,r.value.previous=r.value.current},V=u=>{g(),R()},L=u=>{V()},z=u=>{V()},H=(u,s)=>{u.sorter?(h.value.sortBy=u.sorter.sortBy,h.value.descending=u.sorter.descending,g()):u.pagination||(h.value.sortBy=void 0,h.value.descending=void 0,g()),u.pagination&&(r.value.current=u.pagination.current,r.value.previous=u.pagination.previous,r.value.pageSize=u.pagination.pageSize),R()},Y=Q(()=>({offsetTop:F.isUseTabsRouter?48:0,container:`.${ee}-layout`}));return(u,s)=>{const D=n("t-input"),B=n("t-form-item"),c=n("t-col"),w=n("t-select"),S=n("t-row"),C=n("t-button"),$=n("t-form"),P=n("router-link"),m=n("t-tooltip"),j=n("t-table");return U(),X("div",ne,[a($,{ref:"form",data:o.value,"label-width":80,colon:"",style:{marginBottom:"8px"},onReset:L,onSubmit:z},{default:e(()=>[a(S,null,{default:e(()=>[a(c,{span:10},{default:e(()=>[a(S,{gutter:[16,24]},{default:e(()=>[a(c,{span:8},{default:e(()=>[a(B,{label:"UserAddr",name:"address"},{default:e(()=>[a(D,{modelValue:o.value.address,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.address=t),class:"form-item-content",type:"search",placeholder:"Please user address",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{span:4},{default:e(()=>[a(B,{label:"Epoch",name:"epoch"},{default:e(()=>[a(D,{modelValue:o.value.epoch,"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.epoch=t),class:"form-item-content",type:"search",placeholder:"Input epoch(or empty)",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{span:4},{default:e(()=>[a(B,{label:"Mev Ratio",name:"mevBuyRatio"},{default:e(()=>[a(w,{modelValue:o.value.mevBuyRatio,"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.mevBuyRatio=t),class:"form-item-content",options:W,placeholder:"Fresh Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{span:4},{default:e(()=>[a(B,{label:"Fresh Ratio",name:"freshBuyRatio"},{default:e(()=>[a(w,{modelValue:o.value.freshBuyRatio,"onUpdate:modelValue":s[3]||(s[3]=t=>o.value.freshBuyRatio=t),class:"form-item-content",options:M,placeholder:"Mev Buy Ratio whether <=0"},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{span:4},{default:e(()=>[a(B,{label:"Type",name:"type"},{default:e(()=>[a(w,{modelValue:o.value.type,"onUpdate:modelValue":s[4]||(s[4]=t=>o.value.type=t),class:"form-item-content",options:i(se),placeholder:" Wiser Type"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1}),a(c,{span:2,class:"operation-container"},{default:e(()=>[a(C,{theme:"primary",type:"submit",style:{marginLeft:"8px"}},{default:e(()=>[l(" Search ")]),_:1}),a(C,{type:"reset",variant:"base",theme:"default"},{default:e(()=>[l(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),f("div",ie,[a(j,{data:b.value,columns:k,"row-key":ve,"vertical-align":ye,hover:he,pagination:r.value,loading:E.value,"header-affixed-top":Y.value,onChange:H},{address:e(({row:t})=>[a(P,{to:"/partner/deals/"+t.address},{default:e(()=>[l(d(i(oe)(t.address,8,4)),1)]),_:2},1032,["to"])]),winRatio:e(({row:t})=>[l(d(i(_)(Number(t.winRatio)))+"% ",1),a(m,{content:"\u7B26\u5408\u6761\u4EF6\u7684\u6709\u6548\u4E70\u5356(\u53BB\u6389mev\u7B49)\u76C8\u5229\u6BD4\u4F8B"},{default:e(()=>[de]),_:1})]),totalWinValue:e(({row:t})=>[l(" $"+d(i(x)(Number(t.totalWinValue))),1)]),ethBalance:e(({row:t})=>[l(d(i(x)(Number(t.ethBalance))),1)]),averageEarnRatio:e(({row:t})=>[l(d(i(_)(Number(t.averageEarnRatio)))+"% ",1)]),buyMevRatio:e(({row:t})=>[l(d(i(_)(Number(t.buyMevRatio)))+"% ",1),a(m,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA \u540C\u533A\u5757 \u5373\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[ce]),_:1})]),buyFreshRatio:e(({row:t})=>[l(d(i(_)(Number(t.buyFreshRatio)))+"% ",1),a(m,{content:"\u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 5\u5206\u949F \u5185\u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[pe]),_:1})]),buySubnewRatio:e(({row:t})=>[l(d(i(_)(Number(t.buySubnewRatio)))+"% ",1),a(m,{content:"\u6B21\u65B0\u5E01\u6BD4\u4F8B: \u8BE5\u8D26\u53F7pair\u521B\u5EFA\u540E 7\u5929\u5185 \u5C31\u4E70\u5165\u7684\u4E70\u5356\u6570\u6BD4\u4F8B(\u4E0E\u603B\u4EA4\u6613\u6570\u76F8\u9664)"},{default:e(()=>[fe]),_:1})]),buyDeflatTokenRatio:e(({row:t})=>[l(d(i(_)(Number(t.buyDeflatTokenRatio)))+"% ",1),a(m,{content:"\u8D2D\u4E70\u901A\u7F29\u5E01/\u5751\u4EBA\u5E01 \u4E0E \u603B\u4EA4\u6613\u6570\u6BD4\u4F8B"},{default:e(()=>[me]),_:1})]),type:e(({row:t})=>[l(d(O(t.type))+" ",1),a(m,{content:"\u8D26\u53F7\u6301\u6709\u98CE\u683C: \u54EA\u4E00\u9879\u4E70\u5356\u6BD4\u4F8B\u6700\u9AD8, \u5C31\u4E3A\u4F55\u79CD\u7C7B\u578B."},{default:e(()=>[_e]),_:1})]),_:1},8,["data","pagination","loading","header-affixed-top"])])])}}});var be=K(Be,[["__scopeId","data-v-2aded756"],["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/components/CommonTable.vue"]]);const Ee={name:"ListFilter"},Re=I({...Ee,setup(y){return(F,T)=>(U(),ue(be))}});var De=K(Re,[["__file","/Users/mbp13/git/deepeye/app-deepeye/src/pages/partner/wiser/index.vue"]]);export{De as default};
